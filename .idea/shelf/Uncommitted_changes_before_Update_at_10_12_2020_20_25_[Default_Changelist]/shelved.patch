Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"com.example.infinitycrop\">\n\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/>\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\n    <!--Permisos Qr-->\n    <uses-permission android:name=\"android.permission.CAMERA\"/>\n    <uses-feature android:name=\"android.hardware.camera\"></uses-feature>\n    <uses-feature android:name=\"android.hardware.camera.autofocus\"></uses-feature>\n\n    <application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher\"\n        android:theme=\"@style/AppThemeHome\"\n        >\n\n        <activity android:name=\".MainActivity\" android:theme=\"@style/SplashTheme\">\n        </activity>\n\n        <activity android:name=\"com.example.infinitycrop.ui.login.LogActivity\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n        <activity android:name=\".ui.profile.settings.AboutInfinityCrap\">\n\n        </activity>\n        <activity android:name=\".ui.profile.settings.HelpProfile\">\n\n        </activity>\n        <activity android:name=\".ui.list_machine.MainActivityMachineList\"></activity>\n        <activity android:name=\".ui.list_machine.AddMachine\"></activity>\n        <activity android:name=\".ui.logmail.RegisterActivity\"></activity>\n        <activity android:name=\".ui.logmail.LoginActivity\"></activity>\n        <activity android:name=\".ui.list_machine.CaptureAct\"></activity>\n\n\n\n\n        <meta-data android:name=\"com.google.android.geo.API_KEY\"\n            android:value=\"@string/google_maps_key\" />\n\n        <meta-data android:name=\"com.facebook.sdk.ApplicationId\"\n            tools:replace=\"android:value\"\n            android:value=\"@string/facebook_app_id\"/>\n\n\n    </application>\n\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/AndroidManifest.xml	(date 1607539967252)
@@ -5,6 +5,8 @@
 
     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
     <uses-permission android:name="android.permission.INTERNET"/>
+    <uses-permission android:name="com.google.android.things.permission.MANAGE_INPUT_DRIVERS" />
+    <uses-permission android:name="com.google.android.things.permission.USE_PERIPHERAL_IO" />
     <!--Permisos Qr-->
     <uses-permission android:name="android.permission.CAMERA"/>
     <uses-feature android:name="android.hardware.camera"></uses-feature>
Index: app/src/main/res/layout/fragment_graphic.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.graphic.GraphicFragment\">\r\n\r\n    <!-- TODO: Update blank fragment layout -->\r\n    <TextView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_centerInParent=\"true\"\r\n        android:textSize=\"50dp\"\r\n        android:text=\"Graphic fragment\" />\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_graphic.xml	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/res/layout/fragment_graphic.xml	(date 1607520842759)
@@ -1,16 +1,64 @@
 <?xml version="1.0" encoding="utf-8"?>
-<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:background="#EFE9E9"
     tools:context=".ui.graphic.GraphicFragment">
 
-    <!-- TODO: Update blank fragment layout -->
-    <TextView
-        android:layout_width="match_parent"
+    <androidx.constraintlayout.widget.ConstraintLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+
+        <RelativeLayout
+            android:id="@+id/relativeLayout2"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_marginStart="20dp"
+            android:layout_marginEnd="20dp"
+            app:layout_constraintBottom_toTopOf="@+id/image_list"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toTopOf="parent">
+
+            <TextView
+                android:id="@+id/textMode"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="Lista de fotografías  >"
+
+                android:textSize="19sp" />
+
+            <!--<ImageView
+                android:layout_width="62dp"
+                android:layout_height="62dp"
+                android:layout_alignParentRight="true"
+                android:src="@drawable/ic_sun" />-->
+        </RelativeLayout>
+
+        <androidx.recyclerview.widget.RecyclerView
+            android:id="@+id/image_list"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:layout_marginStart="16dp"
+            android:layout_marginTop="70dp"
+            android:layout_marginEnd="16dp"
+            app:layout_constraintBottom_toBottomOf="parent"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toBottomOf="@+id/constraintLayout3" />
+    </androidx.constraintlayout.widget.ConstraintLayout>
+
+
+    <com.google.android.material.floatingactionbutton.FloatingActionButton
+        android:id="@+id/button_add_image"
+        android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_centerInParent="true"
-        android:textSize="50dp"
-        android:text="Graphic fragment" />
+        android:layout_gravity="top|end"
+        android:layout_margin="16dp"
+
+        android:src="@drawable/icons_plus" />
 
-</RelativeLayout>
\ No newline at end of file
+</androidx.coordinatorlayout.widget.CoordinatorLayout>
\ No newline at end of file
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\n\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion \"30.0.2\"\n\n    defaultConfig {\n        applicationId \"com.example.infinitycrop\"\n        minSdkVersion 23\n        targetSdkVersion 30\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: \"libs\", include: [\"*.jar\"])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.2'\n    implementation 'androidx.navigation:navigation-fragment:2.1.0'\n    implementation 'androidx.navigation:navigation-ui:2.1.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.firebase:firebase-auth:16.0.5'\n    implementation 'com.firebaseui:firebase-ui-auth:6.2.0'\n    implementation project(path: ':comun')\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.ismaeldivita.chipnavigation:chip-navigation-bar:1.3.4'\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.4.10'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'com.android.volley:volley:1.1.0'\n    // Also declare the dependency for the Google Play services library and specify its version\n    implementation 'com.google.android.gms:play-services-auth:18.1.0'\n    // Import the BoM for the Firebase platform\n    implementation platform('com.google.firebase:firebase-bom:26.0.0')\n    implementation 'com.google.firebase:firebase-firestore:17.1.2'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.firebaseui:firebase-ui-firestore:6.3.0'\n    //biblioteca para mostrar images a través de URL\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    //import del mqtt\n    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.1'\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\n    compile 'com.google.android.gms:play-services-location:16.0.0'\n    implementation 'com.journeyapps:zxing-android-embedded:3.4.0'//añadimos esta libreria para qr\n    implementation 'com.facebook.android:facebook-android-sdk:[4,5)'\n\n    implementation \"androidx.viewpager2:viewpager2:1.0.0\" //libreria viewpager\n}\napply plugin: 'com.google.gms.google-services'
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/build.gradle	(date 1607543533244)
@@ -35,6 +35,8 @@
     implementation 'com.google.firebase:firebase-auth:16.0.5'
     implementation 'com.firebaseui:firebase-ui-auth:6.2.0'
     implementation project(path: ':comun')
+    implementation 'com.google.firebase:firebase-database:19.5.1'
+    implementation 'com.google.firebase:firebase-storage:19.2.0'
     testImplementation 'junit:junit:4.12'
     androidTestImplementation 'androidx.test.ext:junit:1.1.2'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'
Index: app/src/main/java/com/example/infinitycrop/ui/graphic/GraphicFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.graphic;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.infinitycrop.R;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link GraphicFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class GraphicFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public GraphicFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment GraphicFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static GraphicFragment newInstance(String param1, String param2) {\r\n        GraphicFragment fragment = new GraphicFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_graphic, container, false);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/graphic/GraphicFragment.java	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/java/com/example/infinitycrop/ui/graphic/GraphicFragment.java	(date 1607543099075)
@@ -3,12 +3,19 @@
 import android.os.Bundle;
 
 import androidx.fragment.app.Fragment;
+import androidx.recyclerview.widget.LinearLayoutManager;
+import androidx.recyclerview.widget.RecyclerView;
 
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 
 import com.example.infinitycrop.R;
+import com.firebase.ui.firestore.FirestoreRecyclerOptions;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.firestore.FirebaseFirestore;
+import com.google.firebase.firestore.Query;
+import com.google.firebase.storage.FirebaseStorage;
 
 /**
  * A simple {@link Fragment} subclass.
@@ -16,7 +23,7 @@
  * create an instance of this fragment.
  */
 public class GraphicFragment extends Fragment {
-
+    private AdaptadorImagenes adaptador;
     // TODO: Rename parameter arguments, choose names that match
     // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
     private static final String ARG_PARAM1 = "param1";
@@ -61,6 +68,26 @@
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
         // Inflate the layout for this fragment
-        return inflater.inflate(R.layout.fragment_graphic, container, false);
+        View v= inflater.inflate(R.layout.fragment_graphic, container, false);
+
+        RecyclerView recyclerView = v.findViewById(R.id.image_list);
+        Query query = FirebaseFirestore.getInstance()
+                .collection("imagenes");
+        FirestoreRecyclerOptions<Imagen> opciones = new FirestoreRecyclerOptions
+                .Builder<Imagen>().setQuery(query, Imagen.class).build();
+        adaptador = new AdaptadorImagenes(getContext(), opciones);
+        recyclerView.setAdapter(adaptador);
+        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));
+
+        return v;
+    }
+    @Override public void onStart() {
+        super.onStart();
+        adaptador.startListening();
     }
+    @Override public void onStop() {
+        super.onStop();
+        adaptador.stopListening();
+    }
+
 }
\ No newline at end of file
Index: comun/src/main/java/com/example/comun/Mqtt.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.comun;\n\npublic class Mqtt {\n    public static final String TAG = \"MQTT\";\n    public static final String topicRoot=\"infinity/senyal/\";\n\n\n    //Reemplaza equipo por el nombre de tu equipo de prácticas\n    public static final int qos = 1;\n    public static final String broker = \"tcp://mqtt.eclipse.org:1883\";\n    public static final String clientId = \"IotTestInfinity123\";\n//Reemplaza ClientId con un valor diferente\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- comun/src/main/java/com/example/comun/Mqtt.java	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ comun/src/main/java/com/example/comun/Mqtt.java	(date 1607524175548)
@@ -7,7 +7,7 @@
 
     //Reemplaza equipo por el nombre de tu equipo de prácticas
     public static final int qos = 1;
-    public static final String broker = "tcp://mqtt.eclipse.org:1883";
+    public static final String broker = "tcp://broker.hivemq.com:1883";
     public static final String clientId = "IotTestInfinity123";
 //Reemplaza ClientId con un valor diferente
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_general.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".ui.dashboard.DashboardFragment\">\n\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_1\">\n\n        <RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginRight=\"20dp\">\n\n            <TextView\n                android:id=\"@+id/textDashboard\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Dashboard  >\"\n\n                android:textSize=\"19sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/textDashboard\"\n                android:text=\"4 sensores\"\n\n                android:textSize=\"14sp\" />\n\n            <!--<ImageView\n                android:layout_width=\"62dp\"\n                android:layout_height=\"62dp\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_sun\" />-->\n        </RelativeLayout>\n        <GridLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:columnCount=\"2\"\n            android:rowCount=\"3\"\n            android:alignmentMode=\"alignMargins\"\n            android:columnOrderPreserved=\"false\">\n            <!--temperatura-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Temperatura\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchTemperatura\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:buttonTint=\"#FFFFFF\"\n                            android:checked=\"true\"\n                            android:fitsSystemWindows=\"false\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaTemperatura\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"34°C\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textTemperatura\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textTemperatura\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgTemperatura\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_temperature\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaTemperatura\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--humedad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Humedad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchHumedad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaHumedad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"68%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textHumedad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textHumedad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgHumedad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humidity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaHumedad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--salinidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Salinidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchSalinidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaSalinidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"10%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textSalinidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textSalinidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgSalinidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_salt\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaSalinidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--Luminosidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Luminosidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchLuminosidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorHighlight=\"#FFFFFF\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidasLuminosidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"90%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textLuminosidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textLuminosidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgLuminosidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_luminosity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidasLuminosidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n\n\n\n\n        </GridLayout>\n\n    </LinearLayout>\n</ScrollView>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_general.xml	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/res/layout/fragment_general.xml	(date 1607536086761)
@@ -20,7 +20,7 @@
             android:layout_marginRight="20dp">
 
             <TextView
-                android:id="@+id/textDashboard"
+                android:id="@+id/textDashboardGeneral"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:text="Dashboard  >"
@@ -30,7 +30,7 @@
             <TextView
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
-                android:layout_below="@+id/textDashboard"
+                android:layout_below="@+id/textDashboardGeneral"
                 android:text="4 sensores"
 
                 android:textSize="14sp" />
@@ -74,19 +74,19 @@
 
 
                         <TextView
-                            android:id="@+id/textTemperatura"
+                            android:id="@+id/textTemperaturaGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
                             android:text="Temperatura"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchTemperatura"
+                            app:layout_constraintBottom_toBottomOf="@+id/switchTemperaturaGeneral"
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <Switch
-                            android:id="@+id/switchTemperatura"
+                            android:id="@+id/switchTemperaturaGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginTop="8dp"
@@ -100,25 +100,25 @@
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <TextView
-                            android:id="@+id/medidaTemperatura"
+                            android:id="@+id/medidaTemperaturaGeneral"
                             android:layout_width="90dp"
                             android:layout_height="39dp"
                             android:layout_marginTop="24dp"
                             android:text="34°C"
                             android:textSize="31sp"
-                            app:layout_constraintStart_toStartOf="@+id/textTemperatura"
-                            app:layout_constraintTop_toBottomOf="@+id/textTemperatura" />
+                            app:layout_constraintStart_toStartOf="@+id/textTemperaturaGeneral"
+                            app:layout_constraintTop_toBottomOf="@+id/textTemperaturaGeneral" />
 
                         <ImageView
-                            android:id="@+id/imgTemperatura"
+                            android:id="@+id/imgTemperaturaGeneral"
                             android:layout_width="53dp"
                             android:layout_height="55dp"
                             android:layout_marginEnd="1dp"
                             android:src="@drawable/icons_temperature"
-                            app:layout_constraintBottom_toBottomOf="@+id/medidaTemperatura"
+                            app:layout_constraintBottom_toBottomOf="@+id/medidaTemperaturaGeneral"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintStart_toEndOf="@+id/medidaTemperatura"
-                            app:layout_constraintTop_toTopOf="@+id/medidaTemperatura" />
+                            app:layout_constraintStart_toEndOf="@+id/medidaTemperaturaGeneral"
+                            app:layout_constraintTop_toTopOf="@+id/medidaTemperaturaGeneral" />
                     </androidx.constraintlayout.widget.ConstraintLayout>
                 </LinearLayout>
             </androidx.cardview.widget.CardView>
@@ -148,19 +148,19 @@
 
 
                         <TextView
-                            android:id="@+id/textHumedad"
+                            android:id="@+id/textHumedadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
                             android:text="Humedad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchHumedad"
+                            app:layout_constraintBottom_toBottomOf="@+id/switchHumedadGeneral"
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <Switch
-                            android:id="@+id/switchHumedad"
+                            android:id="@+id/switchHumedadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginTop="8dp"
@@ -172,25 +172,25 @@
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <TextView
-                            android:id="@+id/medidaHumedad"
+                            android:id="@+id/medidaHumedadGeneral"
                             android:layout_width="90dp"
                             android:layout_height="39dp"
                             android:layout_marginTop="24dp"
                             android:text="68%"
                             android:textSize="31sp"
-                            app:layout_constraintStart_toStartOf="@+id/textHumedad"
-                            app:layout_constraintTop_toBottomOf="@+id/textHumedad" />
+                            app:layout_constraintStart_toStartOf="@+id/textHumedadGeneral"
+                            app:layout_constraintTop_toBottomOf="@+id/textHumedadGeneral" />
 
                         <ImageView
-                            android:id="@+id/imgHumedad"
+                            android:id="@+id/imgHumedadGeneral"
                             android:layout_width="53dp"
                             android:layout_height="55dp"
                             android:layout_marginEnd="1dp"
                             android:src="@drawable/icons_humidity"
-                            app:layout_constraintBottom_toBottomOf="@+id/medidaHumedad"
+                            app:layout_constraintBottom_toBottomOf="@+id/medidaHumedadGeneral"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintStart_toEndOf="@+id/medidaHumedad"
-                            app:layout_constraintTop_toTopOf="@+id/medidaHumedad" />
+                            app:layout_constraintStart_toEndOf="@+id/medidaHumedadGeneral"
+                            app:layout_constraintTop_toTopOf="@+id/medidaHumedadGeneral" />
                     </androidx.constraintlayout.widget.ConstraintLayout>
                 </LinearLayout>
             </androidx.cardview.widget.CardView>
@@ -220,19 +220,19 @@
 
 
                         <TextView
-                            android:id="@+id/textSalinidad"
+                            android:id="@+id/textSalinidadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
                             android:text="Salinidad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchSalinidad"
+                            app:layout_constraintBottom_toBottomOf="@+id/switchSalinidadGeneral"
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <Switch
-                            android:id="@+id/switchSalinidad"
+                            android:id="@+id/switchSalinidadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginTop="8dp"
@@ -244,25 +244,25 @@
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <TextView
-                            android:id="@+id/medidaSalinidad"
+                            android:id="@+id/medidaSalinidadGeneral"
                             android:layout_width="90dp"
                             android:layout_height="39dp"
                             android:layout_marginTop="24dp"
                             android:text="10%"
                             android:textSize="31sp"
-                            app:layout_constraintStart_toStartOf="@+id/textSalinidad"
-                            app:layout_constraintTop_toBottomOf="@+id/textSalinidad" />
+                            app:layout_constraintStart_toStartOf="@+id/textSalinidadGeneral"
+                            app:layout_constraintTop_toBottomOf="@+id/textSalinidadGeneral" />
 
                         <ImageView
-                            android:id="@+id/imgSalinidad"
+                            android:id="@+id/imgSalinidadGeneral"
                             android:layout_width="53dp"
                             android:layout_height="55dp"
                             android:layout_marginEnd="1dp"
                             android:src="@drawable/icons_salt"
-                            app:layout_constraintBottom_toBottomOf="@+id/medidaSalinidad"
+                            app:layout_constraintBottom_toBottomOf="@+id/medidaSalinidadGeneral"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintStart_toEndOf="@+id/medidaSalinidad"
-                            app:layout_constraintTop_toTopOf="@+id/medidaSalinidad" />
+                            app:layout_constraintStart_toEndOf="@+id/medidaSalinidadGeneral"
+                            app:layout_constraintTop_toTopOf="@+id/medidaSalinidadGeneral" />
                     </androidx.constraintlayout.widget.ConstraintLayout>
                 </LinearLayout>
             </androidx.cardview.widget.CardView>
@@ -292,19 +292,19 @@
 
 
                         <TextView
-                            android:id="@+id/textLuminosidad"
+                            android:id="@+id/textLuminosidadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
                             android:text="Luminosidad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchLuminosidad"
+                            app:layout_constraintBottom_toBottomOf="@+id/switchLuminosidadGeneral"
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <Switch
-                            android:id="@+id/switchLuminosidad"
+                            android:id="@+id/switchLuminosidadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginTop="8dp"
@@ -317,25 +317,25 @@
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <TextView
-                            android:id="@+id/medidasLuminosidad"
+                            android:id="@+id/medidasLuminosidadGeneral"
                             android:layout_width="90dp"
                             android:layout_height="39dp"
                             android:layout_marginTop="24dp"
                             android:text="90%"
                             android:textSize="31sp"
-                            app:layout_constraintStart_toStartOf="@+id/textLuminosidad"
-                            app:layout_constraintTop_toBottomOf="@+id/textLuminosidad" />
+                            app:layout_constraintStart_toStartOf="@+id/textLuminosidadGeneral"
+                            app:layout_constraintTop_toBottomOf="@+id/textLuminosidadGeneral" />
 
                         <ImageView
-                            android:id="@+id/imgLuminosidad"
+                            android:id="@+id/imgLuminosidadGeneral"
                             android:layout_width="53dp"
                             android:layout_height="55dp"
                             android:layout_marginEnd="1dp"
                             android:src="@drawable/icons_luminosity"
-                            app:layout_constraintBottom_toBottomOf="@+id/medidasLuminosidad"
+                            app:layout_constraintBottom_toBottomOf="@+id/medidasLuminosidadGeneral"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintStart_toEndOf="@+id/medidasLuminosidad"
-                            app:layout_constraintTop_toTopOf="@+id/medidasLuminosidad" />
+                            app:layout_constraintStart_toEndOf="@+id/medidasLuminosidadGeneral"
+                            app:layout_constraintTop_toTopOf="@+id/medidasLuminosidadGeneral" />
                     </androidx.constraintlayout.widget.ConstraintLayout>
                 </LinearLayout>
             </androidx.cardview.widget.CardView>
Index: app/src/main/res/layout/fragment_planta1.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".ui.dashboard.DashboardFragment\">\n\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_1\">\n\n        <RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginRight=\"20dp\">\n\n            <TextView\n                android:id=\"@+id/textDashboard\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Dashboard  >\"\n\n                android:textSize=\"19sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/textDashboard\"\n                android:text=\"4 sensores\"\n\n                android:textSize=\"14sp\" />\n\n            <!--<ImageView\n                android:layout_width=\"62dp\"\n                android:layout_height=\"62dp\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_sun\" />-->\n        </RelativeLayout>\n        <GridLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:columnCount=\"2\"\n            android:rowCount=\"3\"\n            android:alignmentMode=\"alignMargins\"\n            android:columnOrderPreserved=\"false\">\n            <!--temperatura-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Temperatura\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchTemperatura\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:buttonTint=\"#FFFFFF\"\n                            android:checked=\"true\"\n                            android:fitsSystemWindows=\"false\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaTemperatura\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"34°C\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textTemperatura\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textTemperatura\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgTemperatura\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_temperature\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaTemperatura\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--humedad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Humedad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchHumedad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaHumedad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"68%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textHumedad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textHumedad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgHumedad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humidity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaHumedad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--salinidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Salinidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchSalinidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaSalinidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"10%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textSalinidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textSalinidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgSalinidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_salt\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaSalinidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--Luminosidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Luminosidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchLuminosidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorHighlight=\"#FFFFFF\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidasLuminosidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"90%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textLuminosidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textLuminosidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgLuminosidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_luminosity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidasLuminosidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n\n\n\n\n        </GridLayout>\n\n    </LinearLayout>\n</ScrollView>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_planta1.xml	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/res/layout/fragment_planta1.xml	(date 1607537539251)
@@ -299,12 +299,12 @@
                             android:layout_marginTop="8dp"
                             android:text="Luminosidad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchLuminosidad"
+                            app:layout_constraintBottom_toBottomOf="@+id/switchLuminosidadPlamta1"
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <Switch
-                            android:id="@+id/switchLuminosidad"
+                            android:id="@+id/switchLuminosidadPlamta1"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginTop="8dp"
Index: app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.dashboard;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport com.example.infinitycrop.R;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link GeneralFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class GeneralFragment extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = \"param1\";\n    private static final String ARG_PARAM2 = \"param2\";\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public GeneralFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment GeneralFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static GeneralFragment newInstance(String param1, String param2) {\n        GeneralFragment fragment = new GeneralFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v = inflater.inflate(R.layout.fragment_general, container, false);\n\n        return v;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java	(date 1607537068118)
@@ -4,20 +4,34 @@
 
 import androidx.fragment.app.Fragment;
 
+import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.CompoundButton;
+import android.widget.Switch;
 import android.widget.TextView;
 
+import com.example.comun.Mqtt;
 import com.example.infinitycrop.R;
 
+import org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;
+import org.eclipse.paho.client.mqttv3.MqttCallback;
+import org.eclipse.paho.client.mqttv3.MqttClient;
+import org.eclipse.paho.client.mqttv3.MqttConnectOptions;
+import org.eclipse.paho.client.mqttv3.MqttException;
+import org.eclipse.paho.client.mqttv3.MqttMessage;
+import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;
+
+import static com.example.comun.Mqtt.topicRoot;
+
 /**
  * A simple {@link Fragment} subclass.
  * Use the {@link GeneralFragment#newInstance} factory method to
  * create an instance of this fragment.
  */
-public class GeneralFragment extends Fragment {
-
+public class GeneralFragment extends Fragment implements MqttCallback{
+    public static MqttClient client = null;
     // TODO: Rename parameter arguments, choose names that match
     // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
     private static final String ARG_PARAM1 = "param1";
@@ -63,7 +77,108 @@
                              Bundle savedInstanceState) {
         // Inflate the layout for this fragment
         View v = inflater.inflate(R.layout.fragment_general, container, false);
-
+        //switch methods
+        Switch switchLuz = (Switch) v.findViewById(R.id.switchLuminosidadGeneral);
+        switchLuz.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
+            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                if (isChecked) {
+                    // The toggle is enabled
+                    enviarLucesOn();
+                } else {
+                    // The toggle is disabled
+                    enviarLucesOff();
+                }
+            }
+        });
         return v;
     }
+    public void enviarLucesOff(){
+        try {
+            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new
+                    MemoryPersistence());
+        } catch (MqttException e) {
+            e.printStackTrace();
+        }
+        MqttConnectOptions connOpts = new MqttConnectOptions();
+        connOpts.setCleanSession(true);
+        connOpts.setKeepAliveInterval(60);
+        connOpts.setWill(topicRoot+"WillTopic", "App desconectada".getBytes(),Mqtt.qos, false);
+
+        try {
+            client.connect(connOpts);
+        } catch (MqttException e) {
+            e.printStackTrace();
+        }
+
+        //conexión con el broker Root1 = Lector de datos
+        //nos subscribimos a topic lectura
+        try {
+            Log.i(Mqtt.TAG, "Subscrito a " + topicRoot + "luces");//aqui está el root al que nos subscribimos si se quiere modificar se tiene que modificar este
+            client.subscribe(topicRoot + "luces", Mqtt.qos);
+            client.setCallback((MqttCallback) this);
+        } catch (MqttException e) {
+            Log.e(Mqtt.TAG, "Error al suscribir.", e);
+        }
+        try {
+            Log.i(Mqtt.TAG, "Publicando mensaje: " + "mensaje");
+            MqttMessage message = new MqttMessage("Superior OFF".getBytes());
+            message.setQos(Mqtt.qos);
+            message.setRetained(false);
+            client.publish(topicRoot+"luces", message);
+        } catch (MqttException e) {
+            Log.e(Mqtt.TAG, "Error al publicar.", e);
+        }
+    }
+    public void enviarLucesOn(){
+        try {
+            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new
+                    MemoryPersistence());
+        } catch (MqttException e) {
+            e.printStackTrace();
+        }
+        MqttConnectOptions connOpts = new MqttConnectOptions();
+        connOpts.setCleanSession(true);
+        connOpts.setKeepAliveInterval(60);
+        connOpts.setWill(topicRoot+"WillTopic", "App desconectada".getBytes(),Mqtt.qos, false);
+
+        try {
+            client.connect(connOpts);
+        } catch (MqttException e) {
+            e.printStackTrace();
+        }
+
+        //conexión con el broker Root1 = Lector de datos
+        //nos subscribimos a topic lectura
+        try {
+            Log.i(Mqtt.TAG, "Subscrito a " + topicRoot + "luces");//aqui está el root al que nos subscribimos si se quiere modificar se tiene que modificar este
+            client.subscribe(topicRoot + "luces", Mqtt.qos);
+            client.setCallback((MqttCallback) this);
+        } catch (MqttException e) {
+            Log.e(Mqtt.TAG, "Error al suscribir.", e);
+        }
+        try {
+            Log.i(Mqtt.TAG, "Publicando mensaje: " + "mensaje");
+            MqttMessage message = new MqttMessage("Superior ON".getBytes());
+            message.setQos(Mqtt.qos);
+            message.setRetained(false);
+            client.publish(topicRoot+"luces", message);
+        } catch (MqttException e) {
+            Log.e(Mqtt.TAG, "Error al publicar.", e);
+        }
+    }
+
+    @Override
+    public void connectionLost(Throwable cause) {
+        Log.d(Mqtt.TAG, "Conexión perdida");
+    }
+
+    @Override
+    public void messageArrived(String topic, MqttMessage message) throws Exception {
+
+    }
+
+    @Override
+    public void deliveryComplete(IMqttDeliveryToken token) {
+        Log.d(Mqtt.TAG, "Entrega completa");
+    }
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_planta2.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".ui.dashboard.DashboardFragment\">\n\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_1\">\n\n        <RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginRight=\"20dp\">\n\n            <TextView\n                android:id=\"@+id/textDashboard\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Dashboard  >\"\n\n                android:textSize=\"19sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/textDashboard\"\n                android:text=\"4 sensores\"\n\n                android:textSize=\"14sp\" />\n\n            <!--<ImageView\n                android:layout_width=\"62dp\"\n                android:layout_height=\"62dp\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_sun\" />-->\n        </RelativeLayout>\n        <GridLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:columnCount=\"2\"\n            android:rowCount=\"3\"\n            android:alignmentMode=\"alignMargins\"\n            android:columnOrderPreserved=\"false\">\n            <!--temperatura-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Temperatura\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchTemperatura\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:buttonTint=\"#FFFFFF\"\n                            android:checked=\"true\"\n                            android:fitsSystemWindows=\"false\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaTemperatura\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"34°C\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textTemperatura\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textTemperatura\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgTemperatura\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_temperature\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaTemperatura\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--humedad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Humedad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchHumedad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaHumedad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"68%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textHumedad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textHumedad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgHumedad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humidity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaHumedad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--salinidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Salinidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchSalinidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaSalinidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"10%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textSalinidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textSalinidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgSalinidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_salt\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaSalinidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--Luminosidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Luminosidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchLuminosidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorHighlight=\"#FFFFFF\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidasLuminosidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"90%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textLuminosidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textLuminosidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgLuminosidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_luminosity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidasLuminosidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n\n\n\n\n        </GridLayout>\n\n    </LinearLayout>\n</ScrollView>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_planta2.xml	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/res/layout/fragment_planta2.xml	(date 1607537539258)
@@ -299,12 +299,12 @@
                             android:layout_marginTop="8dp"
                             android:text="Luminosidad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchLuminosidad"
+                            app:layout_constraintBottom_toBottomOf="@+id/switchLuminosidadPlanta2"
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
                         <Switch
-                            android:id="@+id/switchLuminosidad"
+                            android:id="@+id/switchLuminosidadPlanta2"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
                             android:layout_marginTop="8dp"
Index: app/src/main/java/com/example/infinitycrop/ui/dashboard/DashboardFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.dashboard;\r\n\r\nimport android.app.Activity;\r\nimport android.content.res.ColorStateList;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Switch;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.comun.Mqtt;\r\nimport com.example.infinitycrop.MainActivity;\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.recycler_control.StaticRvAdapter;\r\nimport com.example.infinitycrop.ui.recycler_control.StaticRvModel;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\r\nimport org.eclipse.paho.client.mqttv3.MqttClient;\r\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\nimport org.eclipse.paho.client.mqttv3.MqttException;\r\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\r\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport static com.example.comun.Mqtt.topicRoot;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link DashboardFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class DashboardFragment extends Fragment implements MqttCallback{\r\n\r\n    private RecyclerView recyclerView;\r\n    private StaticRvAdapter staticRvAdapter;\r\n    private TabLayout tabLayout;\r\n    private ViewPager viewPager;\r\n    private ColorStateList def;\r\n\r\n\r\n    public static MqttClient client = null;\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public DashboardFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment DashboardFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static DashboardFragment newInstance(String param1, String param2) {\r\n        DashboardFragment fragment = new DashboardFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v= inflater.inflate(R.layout.fragment_dashboard, container, false);\r\n        //FIREBASE\r\n        //Recojo los datos del usuario\r\n        final FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n        final FirebaseUser usuario = mAuth.getCurrentUser();\r\n        final FirebaseFirestore fStore=FirebaseFirestore.getInstance();\r\n        String idUser=usuario.getUid();\r\n        //guardo el nombre en un textView\r\n        /*final TextView nombre = (TextView) v.findViewById(R.id.hello_text);\r\n        String res=\"Hola\"+\" \"+usuario.getDisplayName();\r\n        nombre.setText(res);\r\n        DocumentReference documentReference=fStore.collection(\"Usuarios\").document(idUser);\r\n        documentReference.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                if(usuario.getDisplayName() == null){\r\n                    String res1=\"Hola\"+\" \"+snapshot.getString(\"username\");\r\n                    nombre.setText(res1);\r\n                }\r\n            }\r\n        });*/\r\n/*\r\n        //switch methods\r\n        Switch switchLuz = (Switch) v.findViewById(R.id.switchLuminosidad);\r\n        switchLuz.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if (isChecked) {\r\n                    // The toggle is enabled\r\n                    enviarLucesOn();\r\n                } else {\r\n                    // The toggle is disabled\r\n                    enviarLucesOff();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n */\r\n\r\n        //RECYCLER VIEW\r\n        ArrayList<StaticRvModel> item=new ArrayList<>();\r\n        item.add(new StaticRvModel(R.drawable.icons_sun,\"Soleado\"));\r\n        item.add(new StaticRvModel(R.drawable.icons_night_mode,\"Nocturno\"));\r\n        item.add(new StaticRvModel(R.drawable.icons_energy_saving,\"Ahorro\"));\r\n        item.add(new StaticRvModel(R.drawable.icons_power_off,\"Apagado\"));\r\n        item.add(new StaticRvModel(R.drawable.icons_custom,\"Custom\"));\r\n\r\n        final TextView medidasT=v.findViewById(R.id.medidaTemperatura);\r\n        final TextView medidasH=v.findViewById(R.id.medidaHumedad);\r\n        final TextView medidasS=v.findViewById(R.id.medidaSalinidad);\r\n        final TextView medidasL=v.findViewById(R.id.medidasLuminosidad);\r\n\r\n        recyclerView=v.findViewById(R.id.rv_1);\r\n        staticRvAdapter=new StaticRvAdapter(item,medidasT,medidasH,medidasS,medidasL);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false));\r\n        recyclerView.setAdapter(staticRvAdapter);\r\n\r\n\r\n        //TABS\r\n        tabLayout = v.findViewById(R.id.tab_layout);\r\n        viewPager = v.findViewById(R.id.view_pager);\r\n         //Array\r\n        ArrayList<String> arrayList = new ArrayList<>();\r\n\r\n        //set up with viewpager\r\n        tabLayout.setupWithViewPager(viewPager);\r\n\r\n        TabAdapter adapter = new TabAdapter(getActivity().getSupportFragmentManager());\r\n        //Pestañas\r\n        adapter.addFrag(new GeneralFragment(),\"General\");\r\n        adapter.addFrag(new Planta1Fragment(),\"Planta 1\");\r\n        adapter.addFrag(new Planta2Fragment(),\"Planta 2\");\r\n\r\n        viewPager.setAdapter(adapter );\r\n\r\n        /*((MainActivity)getActivity()).ola();*/\r\n     /*   //LEER DATOS FIREBASE\r\n        //Temperatura\r\n       DocumentReference documentTemperatura=fStore.collection(\"SensoresA-T\").document(\"Temperatura\");\r\n        documentTemperatura.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                String resMediTemp=snapshot.getString(\"Medición\")+\"°C\";\r\n                medidasT.setText(resMediTemp);\r\n            }\r\n        });\r\n        //Humedad\r\n        DocumentReference documentHumedad=fStore.collection(\"SensoresA-T\").document(\"Humedad\");\r\n        documentHumedad.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                String resMediHum=snapshot.getString(\"Porcentaje\")+\"%\";\r\n                medidasH.setText(resMediHum);\r\n            }\r\n        });\r\n        //Iluminación\r\n        DocumentReference documentIluminación=fStore.collection(\"SensoresA-T\").document(\"Iluminación\");\r\n        documentIluminación.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                String resMediIlum=snapshot.getString(\"Porcentaje\")+\"%\";\r\n                medidasL.setText(resMediIlum);\r\n            }\r\n        });\r\n        //Temperatura ambiente\r\n        DocumentReference documentambiente=fStore.collection(\"SensoresA-T\").document(\"Temperatura ambiente\");\r\n        documentambiente.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot snapshot, @Nullable FirebaseFirestoreException e) {\r\n                String resMediIAmb=snapshot.getString(\"Medición\")+\"°C\";\r\n                medidasS.setText(resMediIAmb);\r\n            }\r\n        });\r\n\r\n      */\r\n\r\n        return v;\r\n    }\r\n\r\n    public void enviarLucesOff(){\r\n        try {\r\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\r\n                    MemoryPersistence());\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MqttConnectOptions connOpts = new MqttConnectOptions();\r\n        connOpts.setCleanSession(true);\r\n        connOpts.setKeepAliveInterval(60);\r\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\r\n\r\n        try {\r\n            client.connect(connOpts);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //conexión con el broker Root1 = Lector de datos\r\n        //nos subscribimos a topic lectura\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Subscrito a \" + topicRoot + \"luces\");//aqui está el root al que nos subscribimos si se quiere modificar se tiene que modificar este\r\n            client.subscribe(topicRoot + \"luces\", Mqtt.qos);\r\n            client.setCallback((MqttCallback) this);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\r\n        }\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Publicando mensaje: \" + \"mensaje\");\r\n            MqttMessage message = new MqttMessage(\"luces OFF\".getBytes());\r\n            message.setQos(Mqtt.qos);\r\n            message.setRetained(false);\r\n            client.publish(topicRoot+\"luces\", message);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al publicar.\", e);\r\n        }\r\n    }\r\n    public void enviarLucesOn(){\r\n        try {\r\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\r\n                    MemoryPersistence());\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MqttConnectOptions connOpts = new MqttConnectOptions();\r\n        connOpts.setCleanSession(true);\r\n        connOpts.setKeepAliveInterval(60);\r\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\r\n\r\n        try {\r\n            client.connect(connOpts);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //conexión con el broker Root1 = Lector de datos\r\n        //nos subscribimos a topic lectura\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Subscrito a \" + topicRoot + \"luces\");//aqui está el root al que nos subscribimos si se quiere modificar se tiene que modificar este\r\n            client.subscribe(topicRoot + \"luces\", Mqtt.qos);\r\n            client.setCallback((MqttCallback) this);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\r\n        }\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Publicando mensaje: \" + \"mensaje\");\r\n            MqttMessage message = new MqttMessage(\"luces ON\".getBytes());\r\n            message.setQos(Mqtt.qos);\r\n            message.setRetained(false);\r\n            client.publish(topicRoot+\"luces\", message);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al publicar.\", e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void connectionLost(Throwable cause) {\r\n        Log.d(Mqtt.TAG, \"Conexión perdida\");\r\n    }\r\n\r\n    @Override\r\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deliveryComplete(IMqttDeliveryToken token) {\r\n        Log.d(Mqtt.TAG, \"Entrega completa\");\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/dashboard/DashboardFragment.java	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ app/src/main/java/com/example/infinitycrop/ui/dashboard/DashboardFragment.java	(date 1607536963984)
@@ -128,9 +128,9 @@
                 }
             }
         });*/
-/*
+
         //switch methods
-        Switch switchLuz = (Switch) v.findViewById(R.id.switchLuminosidad);
+ /*     Switch switchLuz = (Switch) v.findViewById(R.id.switchLuminosidadGeneral);
         switchLuz.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
             public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                 if (isChecked) {
@@ -141,10 +141,10 @@
                     enviarLucesOff();
                 }
             }
-        });
+        });*/
 
 
- */
+
 
         //RECYCLER VIEW
         ArrayList<StaticRvModel> item=new ArrayList<>();
@@ -154,10 +154,10 @@
         item.add(new StaticRvModel(R.drawable.icons_power_off,"Apagado"));
         item.add(new StaticRvModel(R.drawable.icons_custom,"Custom"));
 
-        final TextView medidasT=v.findViewById(R.id.medidaTemperatura);
-        final TextView medidasH=v.findViewById(R.id.medidaHumedad);
-        final TextView medidasS=v.findViewById(R.id.medidaSalinidad);
-        final TextView medidasL=v.findViewById(R.id.medidasLuminosidad);
+        final TextView medidasT=v.findViewById(R.id.medidaTemperaturaGeneral);
+        final TextView medidasH=v.findViewById(R.id.medidaHumedadGeneral);
+        final TextView medidasS=v.findViewById(R.id.medidaSalinidadGeneral);
+        final TextView medidasL=v.findViewById(R.id.medidasLuminosidadGeneral);
 
         recyclerView=v.findViewById(R.id.rv_1);
         staticRvAdapter=new StaticRvAdapter(item,medidasT,medidasH,medidasS,medidasL);
Index: things/src/main/java/com/example/things/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.things;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport com.example.comun.Mqtt;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\nimport org.eclipse.paho.client.mqttv3.MqttClient;\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\nimport org.eclipse.paho.client.mqttv3.MqttException;\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport static com.example.comun.Mqtt.qos;\nimport static com.example.comun.Mqtt.topicRoot;\n\n\n/**\n * Skeleton of an Android Things activity.\n * <p>\n * Android Things peripheral APIs are accessible through the PeripheralManager\n * For example, the snippet below will open a GPIO pin and set it to HIGH:\n * <p>\n * PeripheralManager manager = PeripheralManager.getInstance();\n * try {\n * Gpio gpio = manager.openGpio(\"BCM6\");\n * gpio.setDirection(Gpio.DIRECTION_OUT_INITIALLY_LOW);\n * gpio.setValue(true);\n * } catch (IOException e) {\n * Log.e(TAG, \"Unable to access GPIO\");\n * }\n * <p>\n * You can find additional examples on GitHub: https://github.com/androidthings\n */\npublic class MainActivity extends AppCompatActivity implements MqttCallback {\n    public static MqttClient client = null;\n    FirebaseFirestore db;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        db = FirebaseFirestore.getInstance();\n\n        try {\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\n                    MemoryPersistence());\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n        MqttConnectOptions connOpts = new MqttConnectOptions();\n        connOpts.setCleanSession(true);\n        connOpts.setKeepAliveInterval(60);\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\n\n        try {\n            client.connect(connOpts);\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n\n\n        //conexión con el broker Root1 = Lector de datos\n        //nos subscribimos a topic lectura\n        try {\n            Log.i(Mqtt.TAG, \"Subscrito a \" + topicRoot + \"lecturaDatos\");//aqui está el root al que nos subscribimos si se quiere modificar se tiene que modificar este\n            client.subscribe(topicRoot + \"lecturaDatos\", Mqtt.qos);\n            client.setCallback(this);\n        } catch (MqttException e) {\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\n        }\n\n    }\n    // Se ejecuta cuando se pierde la conexión\n    @Override\n    public void connectionLost(Throwable cause) {\n        Log.d(Mqtt.TAG, \"Conexión perdida\");\n\n    }\n    @Override\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\n        String payload = new String(message.getPayload());\n        Log.d(Mqtt.TAG, \"Recibiendo: \" + topic + \"->\" + payload);\n\n        if(topic.equals(topicRoot+\"lecturaDatos\")){\n            //topicLectura(payload);\n            // parts0=humedad,parts1=iluminosidad,parts2=humedadHambiente,parts3=temperatura\n            String[] parts = payload.split(\"-\");//comprueba si los datos introducidos van referentes a cada sensor: nombre,medición, estado\n            Log.d(\"PRUUEBA\",parts[0] + \" \"+parts[1] + \" \"+parts[2] + \" \"+parts[3] + \" \");\n            Map<String, Object> dataTemp = new HashMap<>();\n            dataTemp.put(\"Estado:\", \"Activado\");\n            dataTemp.put(\"Medición\", parts[3]);\n            db.collection(\"SensoresA-T\").document(\"Temperatura\").set(dataTemp);\n\n        }\n\n    }\n     private  void topicLectura(final String payload)  {}\n\n    private void topicLuces(final String payload) {\n    }\n\n    private void topicRiego(final String payload) {\n    }\n\n    private void topicVentiladores(final String payload) {\n    }\n\n\n\n\n\n\n\n    @Override\n    public void onDestroy() {\n        try {\n            Log.i(Mqtt.TAG, \"Desconectado\");\n            client.disconnect();\n        } catch (MqttException e) {\n            Log.e(Mqtt.TAG, \"Error al desconectar.\", e);\n        }\n        super.onDestroy();\n    }\n\n\n\n\n\n    @Override\n    public void deliveryComplete(IMqttDeliveryToken token) {\n        Log.d(Mqtt.TAG, \"Entrega completa\");\n\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- things/src/main/java/com/example/things/MainActivity.java	(revision 071caddf55b6035627c29af02a861705a28c7c3a)
+++ things/src/main/java/com/example/things/MainActivity.java	(date 1607533992044)
@@ -93,7 +93,7 @@
     public void messageArrived(String topic, MqttMessage message) throws Exception {
         String payload = new String(message.getPayload());
         Log.d(Mqtt.TAG, "Recibiendo: " + topic + "->" + payload);
-
+        db.collection("prueba").add(payload);
         if(topic.equals(topicRoot+"lecturaDatos")){
             //topicLectura(payload);
             // parts0=humedad,parts1=iluminosidad,parts2=humedadHambiente,parts3=temperatura
