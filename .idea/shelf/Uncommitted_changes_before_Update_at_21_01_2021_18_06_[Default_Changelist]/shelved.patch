Index: app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.dashboard;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.Switch;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.comun.Mqtt;\r\nimport com.example.infinitycrop.MainActivity;\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.MachineControl.planta1;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.firebase.Timestamp;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\r\nimport org.eclipse.paho.client.mqttv3.MqttClient;\r\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\nimport org.eclipse.paho.client.mqttv3.MqttException;\r\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\r\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport static com.example.comun.Mqtt.topicRoot;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link GeneralFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class GeneralFragment extends Fragment implements MqttCallback{\r\n    public static MqttClient client = null;\r\n    private String uid;\r\n    private FirebaseFirestore db;\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public GeneralFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment GeneralFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static GeneralFragment newInstance(String param1, String param2) {\r\n        GeneralFragment fragment = new GeneralFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_general, container, false);\r\n        //switch methods\r\n        Switch switchLuz = (Switch) v.findViewById(R.id.switchLuminosidadGeneral);\r\n        switchLuz.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if (isChecked) {\r\n                    // The toggle is enabled\r\n                    enviarLucesOn();\r\n                } else {\r\n                    // The toggle is disabled\r\n                    enviarLucesOff();\r\n                }\r\n            }\r\n        });\r\n        db = FirebaseFirestore.getInstance();\r\n        MainActivity myActivity = (MainActivity) getActivity();\r\n        final TextView medidaTemp=v.findViewById(R.id.medidaTemperaturaGeneral);\r\n        final TextView medidaHum=v.findViewById(R.id.medidaHumedadGeneral);\r\n        /*final TextView medidaHumAm=v.findViewById(R.id.medidaSalinidadGeneral);*/\r\n        /*final TextView medidaLuz=v.findViewById(R.id.medidasLuminosidadGeneral);*/\r\n        uid=myActivity.getMachineUID();\r\n        db.collection(\"Mediciones general\")\r\n                .document(uid)\r\n                .addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable DocumentSnapshot snapshot,\r\n                                        @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            return;\r\n                        }\r\n\r\n                        if (snapshot != null && snapshot.exists()) {\r\n                            //Temperatura\r\n                            String medidaT=snapshot.getString(\"Temperatura\");\r\n                            medidaTemp.setText(medidaT+\"°C\");\r\n                            //Humedad\r\n                            String medidaH=snapshot.getString(\"Humedad\");\r\n                            medidaHum.setText(medidaH+\"%\");\r\n                            //Humedad Ambiente\r\n                            /*String medidaHA=snapshot.getString(\"Humedad Ambiente\");\r\n                            medidaHumAm.setText(medidaHA+\"%\");*/\r\n                            //Luminosidad\r\n                            /*String medidaL=snapshot.getString(\"Luminosidad\");\r\n                            medidaLuz.setText(medidaL+\"%\");*/\r\n\r\n\r\n                        } else {\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n        //Boton para acceder a la maquina para sus parcelas\r\n        Button btnmymachine = (Button) v.findViewById(R.id.btnMyMachine);\r\n        btnmymachine.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\r\n                        getContext()\r\n                );\r\n                bottomSheetDialog.setContentView(R.layout.plantamaquina_bottom_sheet);\r\n                Button btnp1=bottomSheetDialog.findViewById(R.id.enterPlant2);\r\n                Button btn2=bottomSheetDialog.findViewById(R.id.enterPlant1);\r\n                bottomSheetDialog.show();\r\n                btnp1.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Intent intent = new Intent (getContext(), planta1.class);\r\n                        intent.putExtra(\"idMachine\", uid);\r\n                        startActivity(intent);\r\n\r\n\r\n\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n\r\n        return v;\r\n    }\r\n        /*btnmymachine.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent (getContext(), MiMaquina.class);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });*/\r\n\r\n\r\n\r\n    public void enviarLucesOff(){\r\n        try {\r\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\r\n                    MemoryPersistence());\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MqttConnectOptions connOpts = new MqttConnectOptions();\r\n        connOpts.setCleanSession(true);\r\n        connOpts.setKeepAliveInterval(60);\r\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\r\n\r\n        try {\r\n            client.connect(connOpts);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //conexión con el broker Root1 = Lector de datos\r\n        //nos subscribimos a topic lectura\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Subscrito a \" + topicRoot + \"operaciones\");//aqui está el root al que nos subscribimos si se quiere modificar se tiene que modificar este\r\n            client.subscribe(topicRoot + \"operaciones\", Mqtt.qos);\r\n            client.setCallback((MqttCallback) this);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\r\n        }\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Publicando mensaje: \" + \"mensaje\");\r\n            MqttMessage message = new MqttMessage(\"1-OFF\".getBytes());\r\n            message.setQos(Mqtt.qos);\r\n            message.setRetained(false);\r\n            client.publish(topicRoot+\"operaciones\", message);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al publicar.\", e);\r\n        }\r\n    }\r\n    public void enviarLucesOn(){\r\n        try {\r\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\r\n                    MemoryPersistence());\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MqttConnectOptions connOpts = new MqttConnectOptions();\r\n        connOpts.setCleanSession(true);\r\n        connOpts.setKeepAliveInterval(60);\r\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\r\n\r\n        try {\r\n            client.connect(connOpts);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //conexión con el broker Root1 = Lector de datos\r\n        //nos subscribimos a topic lectura\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Subscrito a \" + topicRoot + \"operaciones\");//aqui está el root al que nos subscribimos si se quiere modificar se tiene que modificar este\r\n            client.subscribe(topicRoot + \"operaciones\", Mqtt.qos);\r\n            client.setCallback((MqttCallback) this);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\r\n        }\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Publicando mensaje: \" + \"mensaje\");\r\n            MqttMessage message = new MqttMessage(\"1-ON\".getBytes());\r\n            message.setQos(Mqtt.qos);\r\n            message.setRetained(false);\r\n            client.publish(topicRoot+\"operaciones\", message);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al publicar.\", e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void connectionLost(Throwable cause) {\r\n        Log.d(Mqtt.TAG, \"Conexión perdida\");\r\n    }\r\n\r\n    @Override\r\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deliveryComplete(IMqttDeliveryToken token) {\r\n        Log.d(Mqtt.TAG, \"Entrega completa\");\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java	(revision 39446938e85f5a0c77409cf0939d14ba4e6c8d13)
+++ app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java	(date 1611248657392)
@@ -175,6 +175,18 @@
 
                     }
 
+                });
+                btn2.setOnClickListener(new View.OnClickListener() {
+                    @Override
+                    public void onClick(View v) {
+                       /* Intent intent = new Intent (getContext(), planta2.class);
+                        intent.putExtra("idMachine", uid);
+                        startActivity(intent);*/
+
+
+
+                    }
+
                 });
             }
         });
Index: app/src/main/java/com/example/infinitycrop/ui/MachineControl/planta1.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.MachineControl;\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.DatePickerDialog;\r\nimport android.app.FragmentTransaction;\r\nimport android.app.TimePickerDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.provider.AlarmClock;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.CheckBox;\r\nimport android.widget.DatePicker;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.TimePicker;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.dashboard.DashboardFragment;\r\nimport com.example.infinitycrop.ui.dashboard.GeneralFragment;\r\nimport com.example.infinitycrop.ui.logmail.LoginActivity;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.ListenerRegistration;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.sql.Time;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalTime;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\nimport kotlin.Unit;\r\nimport kotlin.jvm.functions.Function1;\r\nimport me.sujanpoudel.wheelview.WheelView;\r\n\r\npublic class planta1 extends AppCompatActivity {\r\n    private List<String> nombres;\r\n    private List<String> estado;\r\n    //Aviso al entrar\r\n    private ConstraintLayout fondoR;\r\n    private ImageView imgr,goBack;\r\n    private TextView textR;\r\n    //\r\n\r\n    private int piso = 1;\r\n    String one = String.valueOf(piso);\r\n    private int stated = 1;\r\n    String state = String.valueOf(stated);\r\n\r\n\r\n    private CheckBox checkYes, checkNo;\r\n    private Button editInfo, saveChanges;\r\n    private TextView mDisplayHour,infoTitle,mStation;\r\n    private EditText nameplant;\r\n    private FirebaseFirestore db;\r\n\r\n    private String idDocument;\r\n    private String id;\r\n\r\n\r\n\r\n    //Reloj\r\n    int t2Hour, t2Minute;\r\n    private DatePickerDialog.OnDateSetListener mDateSetListener;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_planta1);\r\n\r\n        //Aviso al entrar\r\n        fondoR = findViewById(R.id.constraitR);\r\n        imgr = findViewById(R.id.imageprevius);\r\n        textR = findViewById(R.id.txtInfoD);\r\n        CountDownTimer countDownTimer = new CountDownTimer(3000, 1000) {//Se pone la cuenta atras para que no se superponga con la animación\r\n            public void onTick(long millisUntilFinished) {\r\n\r\n            }\r\n\r\n            public void onFinish() {\r\n\r\n                fondoR.setVisibility(View.GONE);\r\n                imgr.setVisibility(View.GONE);\r\n                textR.setVisibility(View.GONE);\r\n\r\n            }\r\n        }.start();\r\n        //boton para volver\r\n        goBack= findViewById(R.id.backDashboard);\r\n        goBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               finish();\r\n            }\r\n        });\r\n\r\n        db=FirebaseFirestore.getInstance();\r\n        //bungle get extra\r\n        Bundle extras = getIntent().getExtras();\r\n        id = extras.getString(\"idMachine\");\r\n\r\n        //arrays\r\n        nombres=new ArrayList<>();\r\n        estado=new ArrayList<>();\r\n        //firestore\r\n        db.collection(\"Mediciones planta 1\").document(id).collection(\"DatosPiso\")\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot snapshots,\r\n                                        @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            return;\r\n                        }\r\n                        nombres.clear();\r\n                        for (DocumentSnapshot doc : snapshots) {\r\n                                nombres.add(doc.getString(\"name\"));\r\n                                estado.add(doc.getId());\r\n                        }\r\n\r\n\r\n                       /* Toast.makeText(getApplicationContext(),nombres.toString(), Toast.LENGTH_LONG).show();*/\r\n\r\n\r\n\r\n                        final WheelView wheelView = (WheelView) findViewById(R.id.wheelview);\r\n                        wheelView.setTitles(nombres);\r\n\r\n                        wheelView.setSelectListener(new Function1<Integer, Unit>() {\r\n                            @Override\r\n                            public Unit invoke(Integer integer) {\r\n                                showToast(integer);\r\n                                return Unit.INSTANCE;\r\n                            }\r\n                            private final  void showToast(Integer index) {\r\n                               // Toast.makeText(planta1.this,\"\"+wheelView.getTitles().get(index),Toast.LENGTH_SHORT).show();\r\n                                idDocument=estado.get(index);\r\n                                Toast.makeText(planta1.this,\"\"+idDocument,Toast.LENGTH_SHORT).show();\r\n                                itenInfo(idDocument);\r\n\r\n\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\n\r\n\r\n        //Nombre de la planta\r\n        nameplant = (EditText)findViewById(R.id.editTextNobrep);\r\n        nameplant.setEnabled(false);\r\n        mDisplayHour=(TextView) findViewById(R.id.editHour);\r\n        mDisplayHour.setEnabled(false);\r\n        mStation=(TextView)findViewById(R.id.txtStation);\r\n        //Checkboxes\r\n        checkYes=(CheckBox)findViewById(R.id.checkBoxSi);\r\n        checkYes.setKeyListener(null);\r\n        checkNo=(CheckBox)findViewById(R.id.checkBoxNo);\r\n        checkNo.setKeyListener(null);\r\n\r\n        //Boton guardar cambios\r\n        saveChanges = (Button)findViewById(R.id.btn_save);\r\n        saveChanges.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                saveNote(v);\r\n                editInfo.setVisibility(View.VISIBLE);\r\n                saveChanges.setVisibility(View.GONE);\r\n                mDisplayHour.setEnabled(false);\r\n                nameplant.setEnabled(false);\r\n                infoTitle.setText(\"Pulsa el botón para editar:\");\r\n\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n        //Boton editar informacion\r\n        editInfo = (Button) findViewById(R.id.btnedit);\r\n        editInfo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                saveChanges.setVisibility(View.VISIBLE);\r\n                editInfo.setVisibility(View.GONE);\r\n                mDisplayHour.setEnabled(true);\r\n                nameplant.setEnabled(true);\r\n                infoTitle.setText(\"Información completa:\");\r\n\r\n\r\n\r\n            }\r\n        });\r\n        infoTitle = (TextView) findViewById(R.id.textViewinfo);\r\n        //HORA\r\n\r\n        mDisplayHour.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(AlarmClock.ACTION_SET_ALARM);\r\n                if(intent.resolveActivity(getPackageManager())!=null){\r\n                    startActivity(intent);\r\n                }\r\n\r\n        }\r\n        });\r\n\r\n\r\n\r\n\r\n        /*//CALENDARIO\r\n        mDisplayDate = (TextView) findViewById(R.id.tvDate);\r\n        mDisplayDate.setEnabled(false);\r\n        mDisplayDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Calendar cal = Calendar.getInstance();\r\n                int year = cal.get(Calendar.YEAR);\r\n                int month = cal.get(Calendar.MONTH);\r\n                int day = cal.get(Calendar.DAY_OF_MONTH);\r\n\r\n                DatePickerDialog dialog = new DatePickerDialog(planta1.this,android.R.style.Theme_Holo_Dialog_MinWidth, mDateSetListener,year,month,day);\r\n                dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n                dialog.show();\r\n            }\r\n\r\n        });\r\n        mDateSetListener = new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker datePicker, int year, int month, int day) {\r\n                month = month+1;\r\n                String date = day +\"/\" + month +\"/\"+ year;\r\n                mDisplayDate.setText(date);\r\n            }\r\n        };\r\n            */\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n\r\n    }\r\n    /*public void establecerAlarma(String mensaje,int dias,int hora,int minutos){\r\n        Intent intent = new Intent(AlarmClock.ACTION_SET_ALARM)\r\n                .putExtra(AlarmClock.EXTRA_DAYS,dias)\r\n                .putExtra(AlarmClock.EXTRA_MESSAGE,mensaje)\r\n                .putExtra(AlarmClock.EXTRA_HOUR,hora)\r\n                .putExtra(AlarmClock.EXTRA_MINUTES,minutos);\r\n        if(intent.resolveActivity(getPackageManager())!=null){\r\n            startActivity(intent);\r\n        }\r\n    }*/\r\n\r\n    public void saveNote(View v){\r\n        String cola = idDocument;\r\n        String nombre = nameplant.getText().toString();\r\n\r\n        String piso = one;\r\n\r\n        Map<String, Object> note = new HashMap<>();\r\n        note.put(\"name\",nombre);\r\n        note.put(\"piso\",piso);\r\n\r\n        db.collection(\"Mediciones planta 1\").document(id).collection(\"DatosPiso\").document(cola).update(note).addOnSuccessListener(new OnSuccessListener<Void>() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n            Toast.makeText(planta1.this,\"va bien\",Toast.LENGTH_SHORT).show();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(planta1.this,\"va mal\",Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void itenInfo(String uiDoc){\r\n        //hacer consulta a ese documento con uiDOc y sacar su info\r\n        //luego set Text a all\r\n        db.collection(\"Mediciones planta 1\").document(id).collection(\"DatosPiso\").document(uiDoc).get()\r\n                .addOnSuccessListener(new OnSuccessListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                        if(documentSnapshot.exists()){\r\n                            String nombre = documentSnapshot.getString(\"name\");\r\n                            String estacion = documentSnapshot.getString(\"estacion\");\r\n                            int resultado =documentSnapshot.getLong(\"estado\").intValue();\r\n                            if(resultado==1){\r\n                                checkYes.isSelected();\r\n                                checkYes.setChecked(true);\r\n                                checkYes.isChecked();\r\n                                checkNo.setChecked(false);\r\n                            }else{\r\n                                checkNo.isSelected();\r\n                                checkNo.setChecked(true);\r\n                                checkNo.isChecked();\r\n                                checkYes.setChecked(false);\r\n                            }\r\n\r\n\r\n                           // Map<String,Object> note = documentSnapshot.getData();\r\n                            nameplant.setText(nombre);\r\n                            mStation.setText(estacion);\r\n\r\n\r\n\r\n                        }else{\r\n                            Toast.makeText(planta1.this,\"Document does exist\",Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(planta1.this,\"va mal\",Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n                /*.addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n\r\n                    }\r\n                });*/\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/MachineControl/planta1.java	(revision 39446938e85f5a0c77409cf0939d14ba4e6c8d13)
+++ app/src/main/java/com/example/infinitycrop/ui/MachineControl/planta1.java	(date 1611190970822)
@@ -176,21 +176,21 @@
 
 
 
-        //Nombre de la planta
-        nameplant = (EditText)findViewById(R.id.editTextNobrep);
-        nameplant.setEnabled(false);
-        mDisplayHour=(TextView) findViewById(R.id.editHour);
-        mDisplayHour.setEnabled(false);
-        mStation=(TextView)findViewById(R.id.txtStation);
-        //Checkboxes
-        checkYes=(CheckBox)findViewById(R.id.checkBoxSi);
-        checkYes.setKeyListener(null);
-        checkNo=(CheckBox)findViewById(R.id.checkBoxNo);
-        checkNo.setKeyListener(null);
+            //Nombre de la planta
+            nameplant = (EditText)findViewById(R.id.editTextNobrep);
+            nameplant.setEnabled(false);
+            mDisplayHour=(TextView) findViewById(R.id.editHour);
+            mDisplayHour.setEnabled(false);
+            mStation=(TextView)findViewById(R.id.txtStation);
+            //Checkboxes
+            checkYes=(CheckBox)findViewById(R.id.checkBoxSi);
+            checkYes.setKeyListener(null);
+            checkNo=(CheckBox)findViewById(R.id.checkBoxNo);
+            checkNo.setKeyListener(null);
 
-        //Boton guardar cambios
-        saveChanges = (Button)findViewById(R.id.btn_save);
-        saveChanges.setOnClickListener(new View.OnClickListener() {
+            //Boton guardar cambios
+            saveChanges = (Button)findViewById(R.id.btn_save);
+            saveChanges.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
                 saveNote(v);
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    package=\"com.example.infinitycrop\">\r\n\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"com.google.android.things.permission.MANAGE_INPUT_DRIVERS\" />\r\n    <uses-permission android:name=\"com.google.android.things.permission.USE_PERIPHERAL_IO\" /> <!-- Permisos Qr -->\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"com.android.alarm.permission.SET_ALARM\"/>\r\n\r\n\r\n    <uses-feature android:name=\"android.hardware.camera\" />\r\n    <uses-feature android:name=\"android.hardware.camera.autofocus\" />\r\n\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher\"\r\n        android:theme=\"@style/AppThemeHome\">\r\n        <activity android:name=\".ui.Foro.main.Community.NewPost.CreatePost.CreatePost\"></activity>\r\n        <activity android:name=\".ui.Foro.main.Community.CommunityMain\" />\r\n        <activity android:name=\".ui.Foro.lets_start.EditCommunity\" />\r\n        <activity android:name=\".ui.list_machine.ModifyMachine\" />\r\n        <activity android:name=\".ui.Foro.main.ForoMain\" />\r\n        <activity android:name=\".ui.Foro.lets_start.AddCommunity\" />\r\n        <activity android:name=\".ui.Foro.lets_start.choose_community\" />\r\n        <activity android:name=\".ui.Foro.lets_start.welcome_forum\" />\r\n        <activity android:name=\".MainActivity\" />\r\n\r\n\r\n        <service android:name=\".ui.service.ServicioMqtt\" />\r\n        <service android:name=\".ui.service.ServicioNotificaciones\" />\r\n\r\n        <activity android:name=\".ui.LoadAnimations.IntroductoryActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.SET_ALARM\"/>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".ui.profile.settings.AboutInfinityCrap\" />\r\n        <activity android:name=\".ui.profile.settings.HelpProfile\" />\r\n        <activity android:name=\".ui.list_machine.MainActivityMachineList\" />\r\n        <activity android:name=\".ui.list_machine.AddMachine\" />\r\n        <activity android:name=\".ui.profile.settings.ModifyProfile\" />\r\n        <activity android:name=\".ui.logmail.RegisterActivity\" />\r\n        <activity android:name=\".ui.logmail.LoginActivity\" />\r\n        <activity android:name=\".ui.list_machine.CaptureAct\" />\r\n        <activity android:name=\".ui.login.LogActivity\" />\r\n        <activity android:name=\".ui.LoadAnimations.IntroductoryActivity2\" />\r\n        <activity android:name=\".ui.LoadAnimations.LogprimeraActivity\" />\r\n        <activity android:name=\".ui.graphics.GraphicsActivity\" />\r\n        <activity android:name=\".ui.MachineControl.planta1\" />\r\n        <activity android:name=\".ui.notifications.NotificacionesActivity\" />\r\n        <activity android:name=\".ui.guiabotanica.GuiaActivity\" />\r\n        <activity android:name=\".ui.guiabotanica.PlantActivity\" />\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n        <meta-data\r\n            android:name=\"com.facebook.sdk.ApplicationId\"\r\n            android:value=\"@string/facebook_app_id\"\r\n            tools:replace=\"android:value\" />\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n\r\n        <activity\r\n            android:name=\"com.theartofdev.edmodo.cropper.CropImageActivity\"\r\n            android:theme=\"@style/Base.Theme.AppCompat\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 39446938e85f5a0c77409cf0939d14ba4e6c8d13)
+++ app/src/main/AndroidManifest.xml	(date 1611248469939)
@@ -27,6 +27,7 @@
         <activity android:name=".ui.Foro.main.Community.NewPost.CreatePost.CreatePost"></activity>
         <activity android:name=".ui.Foro.main.Community.CommunityMain" />
         <activity android:name=".ui.Foro.lets_start.EditCommunity" />
+        <activity android:name=".ui.Foro.main.Profile.EditProfileActivity" />
         <activity android:name=".ui.list_machine.ModifyMachine" />
         <activity android:name=".ui.Foro.main.ForoMain" />
         <activity android:name=".ui.Foro.lets_start.AddCommunity" />
@@ -59,6 +60,7 @@
         <activity android:name=".ui.LoadAnimations.LogprimeraActivity" />
         <activity android:name=".ui.graphics.GraphicsActivity" />
         <activity android:name=".ui.MachineControl.planta1" />
+        <activity android:name=".ui.MachineControl.planta2" />
         <activity android:name=".ui.notifications.NotificacionesActivity" />
         <activity android:name=".ui.guiabotanica.GuiaActivity" />
         <activity android:name=".ui.guiabotanica.PlantActivity" />
Index: app/src/main/java/com/example/infinitycrop/ui/Foro/main/Profile/ProfileForoFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.Foro.main.Profile;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.infinitycrop.R;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link ProfileForoFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class ProfileForoFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public ProfileForoFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment ProfileForoFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static ProfileForoFragment newInstance(String param1, String param2) {\r\n        ProfileForoFragment fragment = new ProfileForoFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_profile_foro, container, false);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/Foro/main/Profile/ProfileForoFragment.java	(revision 39446938e85f5a0c77409cf0939d14ba4e6c8d13)
+++ app/src/main/java/com/example/infinitycrop/ui/Foro/main/Profile/ProfileForoFragment.java	(date 1611247120757)
@@ -1,14 +1,55 @@
 package com.example.infinitycrop.ui.Foro.main.Profile;
 
+import android.app.Activity;
+import android.content.Intent;
+import android.graphics.Color;
+import android.net.Uri;
 import android.os.Bundle;
-
-import androidx.fragment.app.Fragment;
-
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.Button;
+import android.widget.EditText;
+import android.widget.ImageView;
+import android.widget.LinearLayout;
+import android.widget.TextView;
+import android.widget.Toast;
 
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.fragment.app.Fragment;
+
+import com.bumptech.glide.Glide;
 import com.example.infinitycrop.R;
+import com.example.infinitycrop.ui.Foro.main.Community.NewPost.CreatePost.CreatePost;
+import com.example.infinitycrop.ui.MachineControl.planta1;
+import com.google.android.gms.tasks.Continuation;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.OnFailureListener;
+import com.google.android.gms.tasks.OnSuccessListener;
+import com.google.android.gms.tasks.Task;
+import com.google.firebase.Timestamp;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.firestore.DocumentReference;
+import com.google.firebase.firestore.DocumentSnapshot;
+import com.google.firebase.firestore.EventListener;
+import com.google.firebase.firestore.FirebaseFirestore;
+import com.google.firebase.firestore.FirebaseFirestoreException;
+import com.google.firebase.firestore.QuerySnapshot;
+import com.google.firebase.storage.StorageReference;
+import com.google.firebase.storage.UploadTask;
+import com.squareup.picasso.Picasso;
+import com.theartofdev.edmodo.cropper.CropImage;
+import com.theartofdev.edmodo.cropper.CropImageView;
+
+import java.io.File;
+import java.util.Date;
+import java.util.HashMap;
+import java.util.HashSet;
+import java.util.Map;
+import java.util.UUID;
+
+import static android.app.Activity.RESULT_OK;
 
 /**
  * A simple {@link Fragment} subclass.
@@ -16,7 +57,19 @@
  * create an instance of this fragment.
  */
 public class ProfileForoFragment extends Fragment {
-
+    private StorageReference mStorageRef;
+    private String image_url;
+    private FirebaseFirestore db;
+    private FirebaseAuth firebaseAuth;
+    private String uid;
+    private String Nuser;
+    Button btnEdit,btnSave;
+    EditText txtNamep,descriptionP;
+    ImageView imgP;
+    ImageView lapiz1,lapiz2,lapiz3;
+    TextView txtPost,txtFollow;
+    LinearLayout l1p;
+    private  Uri resultUri;
     // TODO: Rename parameter arguments, choose names that match
     // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
     private static final String ARG_PARAM1 = "param1";
@@ -60,7 +113,112 @@
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
+
         // Inflate the layout for this fragment
-        return inflater.inflate(R.layout.fragment_profile_foro, container, false);
-    }
+        final View root = inflater.inflate(R.layout.fragment_profile_foro, container, false);
+        db = FirebaseFirestore.getInstance();
+        firebaseAuth = FirebaseAuth.getInstance();
+        uid = firebaseAuth.getUid();
+        //Declaracion de los elementos
+        lapiz1 = root.findViewById(R.id.pencil1);
+        lapiz2 = root.findViewById(R.id.pencil2);
+        lapiz3 = root.findViewById(R.id.pencil3);
+        l1p = root.findViewById(R.id.layout1P);
+        imgP = root.findViewById(R.id.imgP);
+        imgP.setEnabled(false);
+        btnEdit = root.findViewById(R.id.btneditDesc);
+        btnSave = root.findViewById(R.id.btn_saveP);
+        txtNamep = root.findViewById(R.id.nameP);
+        txtNamep.setEnabled(false);
+        descriptionP = root.findViewById(R.id.progiledescription);
+        descriptionP.setEnabled(false);
+        txtFollow = root.findViewById(R.id.followingP);
+        txtPost = root.findViewById(R.id.txtPostN);
+
+
+        String name;
+            //firebase
+        DocumentReference docRef = db.collection("Foro user").document(uid);
+        docRef.addSnapshotListener(new EventListener<DocumentSnapshot>() {
+            @Override
+            public void onEvent(@Nullable DocumentSnapshot snapshot,
+                                @Nullable FirebaseFirestoreException e) {
+                if (e != null) {
+
+                    return;
+                }
+
+                if (snapshot != null && snapshot.exists()) {
+                    String nombre = snapshot.getString("name");
+                    String descipcion = snapshot.getString("description");
+                    String foto =snapshot.getString("url");
+
+                    txtNamep.setText(nombre);
+                    /*imgP.setText(link);*/
+                    descriptionP.setText(descipcion);
+                    if(!foto.equals("")){
+                        Picasso.get().load(foto).into(imgP);
+                    }
+                } else {
+
+                }
+            }
+        });
+
+        db.collection("Foro user").document(uid).collection("Following")
+
+                .addSnapshotListener(new EventListener<QuerySnapshot>() {
+                    @Override
+                    public void onEvent(@Nullable QuerySnapshot snapshots,
+                                        @Nullable FirebaseFirestoreException e) {
+                        if (e != null) {
+
+                            return;
+                        }
+
+                        int cont=0;
+                        for (DocumentSnapshot doc : snapshots) {
+                            cont++;
+
+                        }
+                        String contador=String.valueOf(cont);
+                        txtFollow.setText(contador);
+                    }
+                });
+        db.collection("Posts").addSnapshotListener(new EventListener<QuerySnapshot>() {
+            @Override
+            public void onEvent(@Nullable QuerySnapshot snapshots,
+                                @Nullable FirebaseFirestoreException e) {
+                if (e != null) {
+
+                    return;
+                }
+
+                int cont=0;
+                for (DocumentSnapshot doc : snapshots) {
+                    if(doc.getString("creator").equals(uid)) {
+                        cont++;
+                    }
+                }
+                String contador=String.valueOf(cont);
+                txtPost.setText(contador);
+            }
+        });
+
+        //boton editar
+        btnEdit.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent intent = new Intent(getActivity().getApplication(), EditProfileActivity.class);
+                startActivity(intent);
+            }
+
+            });
+
+
+        return root;
+
+    }
+
+
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_profile_foro.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#EFE9E9\"\r\n    android:orientation=\"vertical\">\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"405dp\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"350dp\"\r\n            android:background=\"@color/colorSecondary\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <ImageView\r\n                android:layout_width=\"150dp\"\r\n                android:layout_height=\"150dp\"\r\n                android:layout_gravity=\"center_horizontal\"\r\n                android:layout_marginTop=\"45dp\"\r\n                android:background=\"@drawable/rectangle\" />\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center_horizontal\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:text=\"Angle Triangle\"\r\n                android:textColor=\"#fff\"\r\n                android:textSize=\"21sp\"\r\n                android:textStyle=\"bold\" />\r\n        </LinearLayout>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"400dp\"\r\n            android:layout_height=\"120dp\"\r\n            android:layout_centerHorizontal=\"true\"\r\n            android:layout_marginTop=\"275dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"horizontal\"\r\n                android:weightSum=\"2\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Posts\"\r\n                        android:textSize=\"20sp\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:paddingTop=\"10dp\"\r\n                        android:text=\"125\"\r\n                        android:textColor=\"@color/green\"\r\n                        android:textSize=\"20sp\"\r\n                        android:textStyle=\"bold\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"vertical\"\r\n                    android:visibility=\"gone\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Followers\"\r\n                        android:textSize=\"20sp\"\r\n                        android:visibility=\"gone\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:paddingTop=\"10dp\"\r\n                        android:text=\"1205\"\r\n                        android:textColor=\"@color/green\"\r\n                        android:textSize=\"20sp\"\r\n                        android:textStyle=\"bold\"\r\n                        android:visibility=\"gone\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"Following\"\r\n                        android:textSize=\"20sp\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:paddingTop=\"10dp\"\r\n                        android:text=\"360\"\r\n                        android:textColor=\"@color/green\"\r\n                        android:textSize=\"20sp\"\r\n                        android:textStyle=\"bold\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n    </RelativeLayout>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"center\"\r\n        android:layout_marginLeft=\"20dp\"\r\n        android:layout_marginRight=\"20dp\"\r\n        android:layout_marginTop=\"45dp\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/progiledescription\"\r\n            android:layout_width=\"379dp\"\r\n            android:layout_height=\"100dp\"\r\n            android:background=\"@color/white\"\r\n            android:hint=\"Descripción:\"\r\n            android:textSize=\"20sp\"\r\n            android:padding=\"10dp\"\r\n\r\n          />\r\n\r\n        <Button\r\n            android:id=\"@+id/btneditDesc\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:background=\"@drawable/btn_scan\"\r\n            android:text=\"Modificar\"\r\n            android:textColor=\"@color/white\" />\r\n\r\n    </LinearLayout>\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_profile_foro.xml	(revision 39446938e85f5a0c77409cf0939d14ba4e6c8d13)
+++ app/src/main/res/layout/fragment_profile_foro.xml	(date 1611199686025)
@@ -1,6 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
 
+    xmlns:app="http://schemas.android.com/apk/res-auto"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     android:background="#EFE9E9"
@@ -11,27 +12,75 @@
         android:layout_height="405dp">
 
         <LinearLayout
+            android:id="@+id/layout1P"
             android:layout_width="match_parent"
             android:layout_height="350dp"
             android:background="@color/colorSecondary"
             android:orientation="vertical">
 
-            <ImageView
-                android:layout_width="150dp"
-                android:layout_height="150dp"
-                android:layout_gravity="center_horizontal"
-                android:layout_marginTop="45dp"
-                android:background="@drawable/rectangle" />
+            <LinearLayout
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center"
+                android:layout_marginTop="25dp"
+                android:gravity="center"
+                android:orientation="horizontal">
+
+                <ImageView
+                    android:id="@+id/imgP"
+                    android:layout_width="150dp"
+                    android:layout_height="150dp"
+                    android:layout_gravity="center_horizontal"
+                    android:background="@drawable/rectangle"
+                    android:scaleType="centerCrop" />
+
+                <ImageView
+                    android:id="@+id/pencil1"
+                    android:layout_width="62dp"
+                    android:layout_height="41dp"
+                    android:visibility="gone"
+                    app:srcCompat="@drawable/pencil" />
+            </LinearLayout>
 
-            <TextView
+            <LinearLayout
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
-                android:layout_gravity="center_horizontal"
-                android:layout_marginTop="10dp"
-                android:text="Angle Triangle"
-                android:textColor="#fff"
-                android:textSize="21sp"
-                android:textStyle="bold" />
+                android:orientation="horizontal"
+                android:layout_gravity="center"
+                android:layout_marginTop="15dp">
+
+                <EditText
+                    android:id="@+id/nameP"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_gravity="center_horizontal"
+
+                    android:background="@null"
+                    android:text="Angle Triangle"
+                    android:textColor="#fff"
+                    android:textSize="21sp"
+                    android:textStyle="bold" />
+
+                <ImageView
+                    android:id="@+id/pencil2"
+                    android:layout_width="53dp"
+                    android:layout_height="32dp"
+                    android:layout_gravity="center"
+                    android:layout_weight="1"
+                    android:visibility="gone"
+                    app:srcCompat="@drawable/pencil" />
+            </LinearLayout>
+
+            <Button
+                android:id="@+id/btneditDesc"
+                android:layout_width="wrap_content"
+                android:layout_height="38dp"
+                android:layout_gravity="end|clip_vertical"
+                android:layout_marginTop="12dp"
+                android:layout_marginRight="12dp"
+                android:background="@drawable/btn_savep"
+                android:text="Editar"
+                android:textColor="@color/colorSecondary" />
         </LinearLayout>
 
         <androidx.cardview.widget.CardView
@@ -44,7 +93,8 @@
                 android:layout_width="match_parent"
                 android:layout_height="match_parent"
                 android:orientation="horizontal"
-                android:weightSum="2">
+                android:weightSum="2"
+                android:gravity="center">
 
                 <LinearLayout
                     android:layout_width="0dp"
@@ -60,6 +110,7 @@
                         android:textSize="20sp" />
 
                     <TextView
+                        android:id="@+id/txtPostN"
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
                         android:paddingTop="10dp"
@@ -105,10 +156,11 @@
                     <TextView
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
-                        android:text="Following"
+                        android:text="Suiguiendo"
                         android:textSize="20sp" />
 
                     <TextView
+                        android:id="@+id/followingP"
                         android:layout_width="wrap_content"
                         android:layout_height="wrap_content"
                         android:paddingTop="10dp"
@@ -128,28 +180,48 @@
         android:layout_marginLeft="20dp"
         android:layout_marginRight="20dp"
         android:layout_marginTop="45dp"
-        android:orientation="vertical">
+        android:orientation="vertical"
+        >
 
-        <TextView
-            android:id="@+id/progiledescription"
-            android:layout_width="379dp"
-            android:layout_height="100dp"
-            android:background="@color/white"
-            android:hint="Descripción:"
-            android:textSize="20sp"
-            android:padding="10dp"
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:orientation="horizontal"
+            android:gravity="center"
+            android:layout_gravity="center">
+
+            <EditText
+                android:id="@+id/progiledescription"
+                android:layout_width="285dp"
+                android:layout_height="100dp"
+                android:background="@color/white"
+                android:hint="Descripción:"
+                android:padding="10dp"
+                android:textSize="20sp"
 
-          />
+                />
+
+            <ImageView
+                android:id="@+id/pencil3"
+                android:layout_width="62dp"
+                android:layout_height="41dp"
+                android:layout_weight="1"
+                android:visibility="gone"
+                app:srcCompat="@drawable/pencil" />
+        </LinearLayout>
 
         <Button
-            android:id="@+id/btneditDesc"
-            android:layout_width="130dp"
+            android:id="@+id/btn_saveP"
+            android:layout_width="120dp"
             android:layout_height="wrap_content"
             android:layout_gravity="center"
-            android:layout_marginTop="12dp"
+            android:layout_marginTop="15dp"
             android:background="@drawable/btn_scan"
-            android:text="Modificar"
-            android:textColor="@color/white" />
+            android:text="Guardar"
+            android:textColor="@color/white"
+            android:visibility="gone"
+
+            />
 
     </LinearLayout>
 
