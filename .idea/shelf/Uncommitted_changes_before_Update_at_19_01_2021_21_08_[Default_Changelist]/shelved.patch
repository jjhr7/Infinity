Index: app/src/main/res/layout/activity_create_post.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Foro.main.Community.NewPost.CreatePost.CreatePost\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n\r\n        <ImageView\r\n            android:id=\"@+id/img_CreatePost\"\r\n            android:layout_width=\"150dp\"\r\n            android:layout_height=\"150dp\"\r\n            android:layout_marginTop=\"30dp\"\r\n            android:scaleType=\"centerCrop\"\r\n            android:src=\"@mipmap/ic_launcher\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/btn_back_to_foro\"\r\n             />\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/textInputLayout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/txt_changeImgPost\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:hint=\"@string/posts_text4\" />\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=\"@+id/btn_back_to_foro\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentStart=\"true\"\r\n            android:layout_alignParentTop=\"true\"\r\n            android:layout_gravity=\"start|top\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:src=\"@drawable/icons_back_foro\"\r\n            app:backgroundTint=\"@color/white\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView32\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/posts_text5\"\r\n            android:textColor=\"@color/black\"\r\n            android:textSize=\"22sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@+id/btn_back_to_foro\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/btn_back_to_foro\" />\r\n\r\n        <com.google.android.material.textfield.TextInputLayout\r\n            android:id=\"@+id/textInputLayout2\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout\">\r\n\r\n            <com.google.android.material.textfield.TextInputEditText\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:hint=\"@string/posts_text6\" />\r\n        </com.google.android.material.textfield.TextInputLayout>\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView33\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginTop=\"18dp\"\r\n            android:text=\"@string/posts_text7\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/constraintLayout4\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=\"@+id/constraintLayout4\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:background=\"@drawable/button_action_machine\"\r\n            android:padding=\"5dp\"\r\n            app:layout_constraintBottom_toBottomOf=\"@+id/textView33\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/textView33\"\r\n            app:layout_constraintTop_toTopOf=\"@+id/textView33\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageView7\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"30dp\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:src=\"@drawable/icons_community_add_post\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toStartOf=\"@+id/textView34\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView34\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"5dp\"\r\n                android:text=\"@string/posts_text9\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/imageView7\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n        <androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:layout_marginEnd=\"20dp\"\r\n            android:layout_marginBottom=\"20dp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/textView33\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/txt_changeImgPost\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:gravity=\"center\"\r\n            android:textColor=\"@color/blue\"\r\n            android:text=\"@string/posts_text8\"\r\n            app:layout_constraintEnd_toEndOf=\"@+id/img_CreatePost\"\r\n            app:layout_constraintStart_toStartOf=\"@+id/img_CreatePost\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/img_CreatePost\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n</ScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_create_post.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/activity_create_post.xml	(date 1610996430485)
@@ -17,14 +17,12 @@
             android:layout_height="150dp"
             android:layout_marginTop="30dp"
             android:scaleType="centerCrop"
-            android:src="@mipmap/ic_launcher"
             app:layout_constraintEnd_toEndOf="parent"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/btn_back_to_foro"
-             />
+            app:layout_constraintTop_toBottomOf="@+id/textView32" />
 
         <com.google.android.material.textfield.TextInputLayout
-            android:id="@+id/textInputLayout"
+            android:id="@+id/input_tittlePost"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginStart="20dp"
@@ -35,39 +33,29 @@
             app:layout_constraintTop_toBottomOf="@+id/txt_changeImgPost">
 
             <com.google.android.material.textfield.TextInputEditText
+                android:id="@+id/input_editText_Createpost"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
                 android:hint="@string/posts_text4" />
         </com.google.android.material.textfield.TextInputLayout>
 
-        <com.google.android.material.floatingactionbutton.FloatingActionButton
-            android:id="@+id/btn_back_to_foro"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_alignParentStart="true"
-            android:layout_alignParentTop="true"
-            android:layout_gravity="start|top"
-            android:layout_marginStart="16dp"
-            android:layout_marginTop="16dp"
-            android:src="@drawable/icons_back_foro"
-            app:backgroundTint="@color/white"
-            app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toTopOf="parent" />
 
         <TextView
             android:id="@+id/textView32"
             android:layout_width="wrap_content"
             android:layout_height="wrap_content"
+            android:layout_marginTop="16dp"
+            android:layout_marginBottom="30dp"
             android:text="@string/posts_text5"
             android:textColor="@color/black"
             android:textSize="22sp"
-            app:layout_constraintBottom_toBottomOf="@+id/btn_back_to_foro"
+            app:layout_constraintBottom_toTopOf="@+id/img_CreatePost"
             app:layout_constraintEnd_toEndOf="parent"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toTopOf="@+id/btn_back_to_foro" />
+            app:layout_constraintTop_toTopOf="parent" />
 
         <com.google.android.material.textfield.TextInputLayout
-            android:id="@+id/textInputLayout2"
+            android:id="@+id/inputDescriptionCreatePost"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginStart="20dp"
@@ -75,9 +63,10 @@
             android:layout_marginEnd="20dp"
             app:layout_constraintEnd_toEndOf="parent"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/textInputLayout">
+            app:layout_constraintTop_toBottomOf="@+id/input_tittlePost">
 
             <com.google.android.material.textfield.TextInputEditText
+                android:id="@+id/input_desc_editText_Createpost"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
                 android:hint="@string/posts_text6" />
@@ -91,12 +80,12 @@
             android:layout_marginTop="18dp"
             android:text="@string/posts_text7"
             android:textSize="16sp"
-            app:layout_constraintEnd_toStartOf="@+id/constraintLayout4"
+            app:layout_constraintEnd_toStartOf="@+id/btn_createClimaCreatePost"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/textInputLayout2" />
+            app:layout_constraintTop_toBottomOf="@+id/inputDescriptionCreatePost" />
 
         <androidx.constraintlayout.widget.ConstraintLayout
-            android:id="@+id/constraintLayout4"
+            android:id="@+id/btn_createClimaCreatePost"
             android:layout_width="0dp"
             android:layout_height="wrap_content"
             android:layout_marginStart="10dp"
@@ -132,13 +121,12 @@
         </androidx.constraintlayout.widget.ConstraintLayout>
 
         <androidx.recyclerview.widget.RecyclerView
+            android:id="@+id/recyclerView"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:layout_marginStart="20dp"
             android:layout_marginTop="8dp"
             android:layout_marginEnd="20dp"
-            android:layout_marginBottom="20dp"
-            app:layout_constraintBottom_toBottomOf="parent"
             app:layout_constraintEnd_toEndOf="parent"
             app:layout_constraintStart_toStartOf="parent"
             app:layout_constraintTop_toBottomOf="@+id/textView33" />
@@ -155,6 +143,35 @@
             app:layout_constraintStart_toStartOf="@+id/img_CreatePost"
             app:layout_constraintTop_toBottomOf="@+id/img_CreatePost" />
 
+        <Button
+            android:id="@+id/btnBackCreatePost"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginStart="20dp"
+            android:layout_marginTop="24dp"
+            android:background="@drawable/button_action_machine"
+            android:padding="10dp"
+            android:text="@string/posts_text11"
+            android:textColor="@color/colorPrimaryDashboard"
+            app:layout_constraintBottom_toBottomOf="@+id/btn_createButtonPost"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toBottomOf="@+id/recyclerView" />
+
+        <Button
+            android:id="@+id/btn_createButtonPost"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="24dp"
+            android:layout_marginEnd="20dp"
+            android:layout_marginBottom="30dp"
+            android:background="@drawable/button_enter_machine"
+            android:padding="10dp"
+            android:text="@string/posts_text10"
+            android:textColor="@color/white"
+            app:layout_constraintBottom_toBottomOf="parent"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintTop_toBottomOf="@+id/recyclerView" />
+
     </androidx.constraintlayout.widget.ConstraintLayout>
 
 
Index: app/src/main/res/layout/fragment_new_post.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    tools:context=\".ui.Foro.main.Community.NewPost.NewPostFragment\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:id=\"@+id/btn_layoutCreatePost\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"60dp\"\r\n                android:layout_marginTop=\"60dp\"\r\n                android:layout_marginEnd=\"60dp\"\r\n                android:background=\"@drawable/button_action_machine\"\r\n                android:padding=\"10dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView5\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_marginStart=\"20dp\"\r\n                    android:src=\"@drawable/icons_community_add_post\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textView30\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginEnd=\"20dp\"\r\n                    android:text=\"@string/posts_text2\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"18sp\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toStartOf=\"@+id/imageView6\"\r\n                    app:layout_constraintStart_toEndOf=\"@+id/imageView5\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView6\"\r\n                    android:layout_width=\"20dp\"\r\n                    android:layout_height=\"20dp\"\r\n                    android:layout_marginEnd=\"5dp\"\r\n                    android:src=\"@drawable/icons_arrow_right\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView31\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                android:text=\"@string/posts_text3\"\r\n                android:textSize=\"16sp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/btn_layoutCreatePost\" />\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rv_myGalleryPosts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginBottom=\"196dp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/textView31\" />\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </ScrollView>\r\n\r\n</FrameLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_new_post.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/fragment_new_post.xml	(date 1611063280197)
@@ -81,7 +81,7 @@
                 android:layout_width="match_parent"
                 android:layout_height="match_parent"
                 android:layout_marginTop="10dp"
-                android:layout_marginBottom="196dp"
+                android:layout_marginBottom="70dp"
                 app:layout_constraintBottom_toBottomOf="parent"
                 app:layout_constraintEnd_toEndOf="parent"
                 app:layout_constraintStart_toStartOf="parent"
Index: app/src/main/res/layout/fragment_planta2.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".ui.dashboard.DashboardFragment\">\n\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_1\">\n\n        <RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginRight=\"20dp\">\n\n            <TextView\n                android:id=\"@+id/textDashboard\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Dashboard  >\"\n\n                android:textSize=\"19sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/textDashboard\"\n                android:text=\"4 sensores\"\n\n                android:textSize=\"14sp\" />\n\n            <!--<ImageView\n                android:layout_width=\"62dp\"\n                android:layout_height=\"62dp\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_sun\" />-->\n        </RelativeLayout>\n        <GridLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:columnCount=\"2\"\n            android:rowCount=\"3\"\n            android:alignmentMode=\"alignMargins\"\n            android:columnOrderPreserved=\"false\">\n            <!--temperatura-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Temperatura\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchTemperatura\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:buttonTint=\"#FFFFFF\"\n                            android:checked=\"true\"\n                            android:fitsSystemWindows=\"false\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaTemperaturaPlanta2\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"34Â°C\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textTemperatura\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textTemperatura\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgTemperatura\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_temperature\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaTemperaturaPlanta2\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaTemperaturaPlanta2\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaTemperaturaPlanta2\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--humedad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Humedad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchHumedad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaHumedadPlanta2\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"68%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textHumedad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textHumedad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgHumedad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humidity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaHumedadPlanta2\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaHumedadPlanta2\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaHumedadPlanta2\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--salinidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"H. Ambiente\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchSalinidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaSalinidadPlanta2\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"10%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textSalinidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textSalinidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgSalinidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humedad_ambiente\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaSalinidadPlanta2\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaSalinidadPlanta2\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaSalinidadPlanta2\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--Luminosidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Luminosidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchLuminosidadPlanta2\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchLuminosidadPlanta2\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorHighlight=\"#FFFFFF\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidasLuminosidadPlanta2\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"90%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textLuminosidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textLuminosidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgLuminosidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_luminosity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidasLuminosidadPlanta2\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidasLuminosidadPlanta2\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidasLuminosidadPlanta2\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n\n\n\n\n        </GridLayout>\n\n    </LinearLayout>\n</ScrollView>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_planta2.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/fragment_planta2.xml	(date 1610994569788)
@@ -75,17 +75,21 @@
 
                         <TextView
                             android:id="@+id/textTemperatura"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
+                            android:layout_marginEnd="8dp"
                             android:text="Temperatura"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchTemperatura"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchTemperatura"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchTemperatura"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -97,7 +101,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaTemperaturaPlanta2"
@@ -149,17 +153,21 @@
 
                         <TextView
                             android:id="@+id/textHumedad"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
+                            android:layout_marginEnd="8dp"
                             android:text="Humedad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchHumedad"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchHumedad"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchHumedad"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -169,7 +177,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaHumedadPlanta2"
@@ -221,17 +229,21 @@
 
                         <TextView
                             android:id="@+id/textSalinidad"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
+                            android:layout_marginEnd="8dp"
                             android:text="H. Ambiente"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchSalinidad"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchSalinidad"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchSalinidad"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -241,7 +253,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaSalinidadPlanta2"
Index: app/src/main/res/layout/post_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:paddingBottom=\"10dp\"\r\n    android:paddingEnd=\"20dp\"\r\n    android:paddingStart=\"20dp\"\r\n    android:orientation=\"vertical\">\r\n\r\n    <androidx.cardview.widget.CardView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"380dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        android:background=\"@drawable/round_corners_foro_menu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/img_community_post\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\"\r\n                    app:srcCompat=\"@drawable/icons_info\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/name_community_post\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"TextView\"\r\n                    android:textSize=\"16sp\"\r\n                    android:textStyle=\"bold\"\r\n                    app:layout_constraintBottom_toTopOf=\"@+id/creator_community_post\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toEndOf=\"@+id/img_community_post\"\r\n                    app:layout_constraintTop_toTopOf=\"@+id/img_community_post\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/creator_community_post\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"TextView\"\r\n                    app:layout_constraintBottom_toBottomOf=\"@+id/img_community_post\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toEndOf=\"@+id/img_community_post\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/name_community_post\" />\r\n\r\n                <View\r\n                    android:id=\"@+id/view\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"1dp\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:background=\"@color/colorPrimaryDark\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/img_community_post\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/name_post\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"TextView\"\r\n                    android:textSize=\"17sp\"\r\n                    android:textStyle=\"bold\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/view\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/desc_post\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"TextView\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/name_post\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/time_post\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"TextView\"\r\n                    android:textColor=\"@color/grey\"\r\n                    android:textSize=\"12sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/desc_post\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/img_post\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"0dp\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    app:layout_constraintBottom_toTopOf=\"@+id/constraintLayout\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/time_post\"\r\n                    tools:srcCompat=\"@tools:sample/avatars\" />\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=\"@+id/constraintLayout\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\">\r\n\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/like_post\"\r\n                        android:layout_width=\"40dp\"\r\n                        android:layout_height=\"40dp\"\r\n                        android:layout_marginStart=\"10dp\"\r\n                        android:layout_marginTop=\"5dp\"\r\n                        android:src=\"@drawable/icons_like\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/numLikes_post\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"8dp\"\r\n                        android:text=\"TextView\"\r\n                        app:layout_constraintBottom_toBottomOf=\"@+id/like_post\"\r\n                        app:layout_constraintStart_toEndOf=\"@+id/like_post\"\r\n                        app:layout_constraintTop_toTopOf=\"@+id/like_post\" />\r\n\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </androidx.cardview.widget.CardView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/post_item.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/post_item.xml	(date 1611012506565)
@@ -118,7 +118,7 @@
                     android:layout_width="0dp"
                     android:layout_height="0dp"
                     android:layout_marginTop="5dp"
-                    android:scaleType="centerCrop"
+                    android:scaleType="fitXY"
                     app:layout_constraintBottom_toTopOf="@+id/constraintLayout"
                     app:layout_constraintEnd_toEndOf="parent"
                     app:layout_constraintStart_toStartOf="parent"
Index: app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/Posts/PostsCommunityFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.Foro.main.Community.Posts;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.Foro.lets_start.rv_community.CommunityModel;\r\nimport com.example.infinitycrop.ui.Foro.main.Community.CommunityMain;\r\nimport com.example.infinitycrop.ui.Foro.main.Home.RVs.PostModel;\r\nimport com.example.infinitycrop.ui.Foro.main.Home.RVs.RvPost.AdapterPost;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link PostsCommunityFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class PostsCommunityFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public PostsCommunityFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment PostsCommunityFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static PostsCommunityFragment newInstance(String param1, String param2) {\r\n        PostsCommunityFragment fragment = new PostsCommunityFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    private String communityID;\r\n\r\n    //Rv, adapter\r\n    private RecyclerView rv_postCommunity;\r\n    private AdapterPost adapterPost;\r\n    //List\r\n    private List<PostModel> posts= new ArrayList<>();\r\n    //firebase\r\n    private FirebaseFirestore db;\r\n    private FirebaseAuth firebaseAuth;\r\n    private String uid;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v= inflater.inflate(R.layout.fragment_posts_community, container, false);\r\n        CommunityMain communityMain= (CommunityMain) getActivity();\r\n        assert communityMain != null;\r\n        communityID=communityMain.getCommunityUid();\r\n        //firebase\r\n        db=FirebaseFirestore.getInstance();\r\n        firebaseAuth=FirebaseAuth.getInstance();\r\n        uid=firebaseAuth.getUid();\r\n        //rv\r\n        rv_postCommunity=v.findViewById(R.id.post_community);\r\n\r\n        initRvPosts();\r\n        getPostsFromCommunity();\r\n\r\n        return v;\r\n    }\r\n\r\n    private void initRvPosts(){\r\n        rv_postCommunity.setHasFixedSize(false);\r\n        rv_postCommunity.setLayoutManager(new LinearLayoutManager(getContext(),LinearLayoutManager.VERTICAL,false));\r\n    }\r\n    private void getPostsFromCommunity(){\r\n        posts.clear();\r\n        //get all the post of the community\r\n        db.collection(\"Posts\")\r\n                .whereEqualTo(\"community\",communityID)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                PostModel postModel=document.toObject(PostModel.class);\r\n                                postModel.setUid(document.getId().toString());\r\n                                posts.add(postModel);\r\n                            }\r\n                            adapterPost=new AdapterPost(posts,getContext());\r\n                            rv_postCommunity.setAdapter(adapterPost);\r\n                        } else {\r\n\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/Posts/PostsCommunityFragment.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/Posts/PostsCommunityFragment.java	(date 1611062751000)
@@ -6,6 +6,7 @@
 import androidx.fragment.app.Fragment;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;
 
 import android.view.LayoutInflater;
 import android.view.View;
@@ -20,6 +21,7 @@
 import com.google.android.gms.tasks.Task;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.firestore.FirebaseFirestore;
+import com.google.firebase.firestore.Query;
 import com.google.firebase.firestore.QueryDocumentSnapshot;
 import com.google.firebase.firestore.QuerySnapshot;
 
@@ -84,6 +86,7 @@
     private FirebaseFirestore db;
     private FirebaseAuth firebaseAuth;
     private String uid;
+    private SwipeRefreshLayout swipeRefreshLayout;
 
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
@@ -102,6 +105,16 @@
 
         initRvPosts();
         getPostsFromCommunity();
+
+        swipeRefreshLayout=v.findViewById(R.id.swipeToRefresh);
+        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {
+            @Override
+            public void onRefresh() {
+                getPostsFromCommunity();
+                adapterPost.notifyDataSetChanged();
+                swipeRefreshLayout.setRefreshing(false);
+            }
+        });
 
         return v;
     }
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\n    <string name=\"app_name\">Infinity Crop</string>\n    <string name=\"title_home\">Infinity Crop</string>\n    <string name=\"title_inicio\">Inicio</string>\n    <string name=\"title_dashboard\">Panel de control</string>\n    <string name=\"title_notifications\">Notificaciones</string>\n    <string name=\"title_wellcome_login\">Â¡Te damos la bienvenida!</string>\n    <string name=\"title_orderLog\">Inicia sesiÃ³n</string>\n    <string name=\"title_cont_faceboock\">Iniciar sesiÃ³n con Facebook</string>\n    <string name=\"title_cont_google\">Iniciar sesiÃ³n con Google</string>\n    <string name=\"title_cont_mail\">Iniciar sesiÃ³n con Email</string>\n\n    <string name=\"title_register\">Registrate</string>\n    <string name=\"title_bienv\">Hola de nuevo!</string>\n    <string name=\"title_bienvR\">Â¡Hola, es un placer!</string>\n    <string name=\"title_userR\">Introduce un correo:</string>\n    <string name=\"title_nameR\">Introduce un nombre:</string>\n    <string name=\"title_passwordR\">Introduce una contraseÃ±a:</string>\n    <string name=\"title_registrar\">Acceder</string>\n    <string name=\"btn_newuser\">Si no tienes una cuenta, puedes registarte <u>AquÃ­</u> </string>\n    <string name=\"title_olvidado\">He olvidado mi contraseÃ±a</string>\n    <!-- ANYADIR UNA NUEVA MAQUINA STRINGS -->\n    <string name=\"title_register_machine\">Registra una nueva mÃ¡quina</string>\n    <string name=\"title_infoMachine\">Completa estos campos</string>\n    <string name=\"btn_registMachine\">AÃ±adir mÃ¡quina</string>\n    <string name=\"title_name_machine\">Introduce el nombre de tu mÃ¡quina:</string>\n    <string name=\"title_name_model\">Modelo de tu mÃ¡quina:</string>\n    <string name=\"title_name_favorites\">AÃ±adir tu mÃ¡quina a favoritos</string>\n    <string name=\"title_scan_machine\">Escanear mÃ¡quina</string>\n\n\n    <!-- TODO: Remove or change this placeholder text -->\n\n    <string name=\"change_city\">Change city</string>\n\n    <!-- Put your own APP ID here -->\n    <string name=\"open_weather_maps_app_id\">11111</string>\n\n    <string name=\"weather_sunny\">&#xf00d;</string>\n    <string name=\"weather_clear_night\">&#xf02e;</string>\n\n    <string name=\"weather_foggy\">&#xf014;</string>\n    <string name=\"weather_cloudy\">&#xf013;</string>\n    <string name=\"weather_rainy\">&#xf019;</string>\n    <string name=\"weather_snowy\">&#xf01b;</string>\n    <string name=\"weather_thunder\">&#xf01e;</string>\n    <string name=\"weather_drizzle\">&#xf01c;</string>\n\n    <string name=\"place_not_found\">Sorry, no weather data found.</string>\n    <string name=\"facebook_app_id\">140146287567868</string>\n    <string name=\"fb_login_protocol_scheme\">fb140146287567868</string>\n    <!-- TODO: Remove or change this placeholder text -->\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\n\n\n    <!-- foro -->\n    <!-- welcome user -->\n    <string name=\"welcome_text1\">Vamos a empezar...</string>\n    <string name=\"welcome_text2\">Bienvenido al</string>\n    <string name=\"welcome_text3\"> <b>Foro</b> de <i>Infinity Crop</i></string>\n    <string name=\"welcome_text4\">Continuar como</string>\n    <string name=\"welcome_text5\">Cambiar imagen</string>\n    <string name=\"welcome_text6\">Nombre del usuario: </string>\n    <string name=\"welcome_text7\">Continuar </string>\n    <string name=\"welcome_text8\">DescripciÃ³n (opcional): </string>Ã§\n    <!-- choose community -->\n    <string name=\"community_text1\">Uno mÃ¡s y hemos terminado...</string>\n    <string name=\"community_text2\"><b>Tus comunidadades</b></string>\n    <string name=\"community_text3\"><b>Lo mÃ¡s popular</b></string>\n    <!-- choose community -> bottom Sheet community -->\n    <string name=\"community_sheet_text1\">Posts</string>\n    <string name=\"community_sheet_text2\">Followers</string>\n    <string name=\"community_sheet_text3\">Cancelar</string>\n    <string name=\"community_sheet_text4\">Suscribirse</string>\n    <string name=\"community_sheet_text5\">Dejar de seguir</string>\n    <string name=\"community_sheet_text6\">Finalizar</string>\n    <string name=\"community_sheet_text7\">Editar</string>\n    <!-- addCommunity  -->\n    <string name=\"editCommunity_text1\">Crear communidad</string>\n    <string name=\"editCommunity_text2\"><b>Cambiar imagen</b></string>\n    <string name=\"editCommunity_text3\">Nombre (obligatorio)</string>\n    <string name=\"editCommunity_text4\">Nombre</string>\n    <string name=\"editCommunity_text5\">DescripciÃ³n (opcional)</string>\n    <string name=\"editCommunity_text6\">Guardar</string>\n    <!-- EditCommunity  -->\n    <string name=\"editCommunity_text7\">Editar Communidad</string>\n    <string name=\"editCommunity_text8\">Guardar cambios</string>\n    <string name=\"editCommunity_text9\">Eliminar comunidad</string>\n    <!-- main foro menu  -->\n    <string name=\"menu_foro1\">Buscar</string>\n    <string name=\"menu_foro2\">Inicio</string>\n    <string name=\"menu_foro3\">Suscripciones</string>\n    <string name=\"menu_foro4\">Perfil</string>\n    <!-- foro home  -->\n    <string name=\"home_foro1\"><b>Comunidades que sigues > </b></string>\n    <!-- foro home > bottom sheet community  -->\n    <string name=\"home_foro2\"><b>Ir a la communidad </b></string>\n    <!-- community menu  -->\n    <string name=\"community_menu_foro1\">Posts</string>\n    <string name=\"community_menu_foro2\">Nuevo post</string>\n    <string name=\"community_menu_foro3\">InformaciÃ³n</string>\n    <!--post fragment -->\n    <string name=\"posts_text1\"><b>Posts de la comunidad</b></string>\n    <!--post fragment -> new post -->\n    <string name=\"posts_text2\"><b>Nuevo post</b></string>\n    <string name=\"posts_text3\"><b>Tu galerÃ­a de posts ></b></string>\n    <!--create post -->\n    <string name=\"posts_text4\"><b>TÃ­tulo</b></string>\n    <string name=\"posts_text5\"><b>Nuevo post</b></string>\n    <string name=\"posts_text6\"><b>DescripciÃ³n</b></string>\n    <string name=\"posts_text7\"><b>Elegir clima a aÃ±adir al post ></b></string>\n    <string name=\"posts_text8\">Cambiar foto</string>\n    <string name=\"posts_text9\">Crear clima</string>\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/strings.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/values/strings.xml	(date 1610978504229)
@@ -111,4 +111,6 @@
     <string name="posts_text7"><b>Elegir clima a aÃ±adir al post ></b></string>
     <string name="posts_text8">Cambiar foto</string>
     <string name="posts_text9">Crear clima</string>
+    <string name="posts_text10">Crear Post</string>
+    <string name="posts_text11">Cancelar</string>
 </resources>
\ No newline at end of file
Index: app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.dashboard;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.annotation.Nullable;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.fragment.app.Fragment;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.CompoundButton;\nimport android.widget.Switch;\nimport android.widget.TextView;\n\nimport com.example.comun.Mqtt;\nimport com.example.infinitycrop.MainActivity;\nimport com.example.infinitycrop.R;\nimport com.example.infinitycrop.ui.MachineControl.planta1;\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.EventListener;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirebaseFirestoreException;\n\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\nimport org.eclipse.paho.client.mqttv3.MqttClient;\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\nimport org.eclipse.paho.client.mqttv3.MqttException;\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\n\nimport static com.example.comun.Mqtt.topicRoot;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link GeneralFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class GeneralFragment extends Fragment implements MqttCallback{\n    public static MqttClient client = null;\n    private String uid;\n    private FirebaseFirestore db;\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = \"param1\";\n    private static final String ARG_PARAM2 = \"param2\";\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public GeneralFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment GeneralFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static GeneralFragment newInstance(String param1, String param2) {\n        GeneralFragment fragment = new GeneralFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v = inflater.inflate(R.layout.fragment_general, container, false);\n        //switch methods\n        Switch switchLuz = (Switch) v.findViewById(R.id.switchLuminosidadGeneral);\n        switchLuz.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                if (isChecked) {\n                    // The toggle is enabled\n                    enviarLucesOn();\n                } else {\n                    // The toggle is disabled\n                    enviarLucesOff();\n                }\n            }\n        });\n        db = FirebaseFirestore.getInstance();\n        MainActivity myActivity = (MainActivity) getActivity();\n        final TextView medidaTemp=v.findViewById(R.id.medidaTemperaturaGeneral);\n        final TextView medidaHum=v.findViewById(R.id.medidaHumedadGeneral);\n        final TextView medidaHumAm=v.findViewById(R.id.medidaSalinidadGeneral);\n        final TextView medidaLuz=v.findViewById(R.id.medidasLuminosidadGeneral);\n        uid=myActivity.getMachineUID();\n        db.collection(\"Mediciones general\")\n                .document(uid)\n                .addSnapshotListener(new EventListener<DocumentSnapshot>() {\n                    @Override\n                    public void onEvent(@Nullable DocumentSnapshot snapshot,\n                                        @Nullable FirebaseFirestoreException e) {\n                        if (e != null) {\n                            return;\n                        }\n\n                        if (snapshot != null && snapshot.exists()) {\n                            //Temperatura\n                            String medidaT=snapshot.getString(\"Temperatura\");\n                            medidaTemp.setText(medidaT+\"Â°C\");\n                            //Humedad\n                            String medidaH=snapshot.getString(\"Humedad\");\n                            medidaHum.setText(medidaH+\"%\");\n                            //Humedad Ambiente\n                            String medidaHA=snapshot.getString(\"Humedad Ambiente\");\n                            medidaHumAm.setText(medidaHA+\"%\");\n                            //Luminosidad\n                            String medidaL=snapshot.getString(\"Luminosidad\");\n                            medidaLuz.setText(medidaL+\"%\");\n\n\n                        } else {\n\n                        }\n                    }\n                });\n\n        //Boton para acceder a la maquina para sus parcelas\n        Button btnmymachine = (Button) v.findViewById(R.id.btnMyMachine);\n        btnmymachine.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(\n                        getContext()\n                );\n                bottomSheetDialog.setContentView(R.layout.plantamaquina_bottom_sheet);\n                Button btnp1=bottomSheetDialog.findViewById(R.id.enterPlant2);\n                Button btn2=bottomSheetDialog.findViewById(R.id.enterPlant1);\n                bottomSheetDialog.show();\n                btnp1.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent intent = new Intent (getContext(), planta1.class);\n                        intent.putExtra(\"idMachine\", uid);\n                        startActivity(intent);\n\n                    }\n                });\n            }\n        });\n\n        return v;\n    }\n        /*btnmymachine.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent (getContext(), MiMaquina.class);\n                startActivity(intent);\n\n            }\n        });*/\n\n\n\n    public void enviarLucesOff(){\n        try {\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\n                    MemoryPersistence());\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n        MqttConnectOptions connOpts = new MqttConnectOptions();\n        connOpts.setCleanSession(true);\n        connOpts.setKeepAliveInterval(60);\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\n\n        try {\n            client.connect(connOpts);\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n\n        //conexiÃ³n con el broker Root1 = Lector de datos\n        //nos subscribimos a topic lectura\n        try {\n            Log.i(Mqtt.TAG, \"Subscrito a \" + topicRoot + \"luces\");//aqui estÃ¡ el root al que nos subscribimos si se quiere modificar se tiene que modificar este\n            client.subscribe(topicRoot + \"luces\", Mqtt.qos);\n            client.setCallback((MqttCallback) this);\n        } catch (MqttException e) {\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\n        }\n        try {\n            Log.i(Mqtt.TAG, \"Publicando mensaje: \" + \"mensaje\");\n            MqttMessage message = new MqttMessage(\"Superior OFF\".getBytes());\n            message.setQos(Mqtt.qos);\n            message.setRetained(false);\n            client.publish(topicRoot+\"luces\", message);\n        } catch (MqttException e) {\n            Log.e(Mqtt.TAG, \"Error al publicar.\", e);\n        }\n    }\n    public void enviarLucesOn(){\n        try {\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\n                    MemoryPersistence());\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n        MqttConnectOptions connOpts = new MqttConnectOptions();\n        connOpts.setCleanSession(true);\n        connOpts.setKeepAliveInterval(60);\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\n\n        try {\n            client.connect(connOpts);\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n\n        //conexiÃ³n con el broker Root1 = Lector de datos\n        //nos subscribimos a topic lectura\n        try {\n            Log.i(Mqtt.TAG, \"Subscrito a \" + topicRoot + \"luces\");//aqui estÃ¡ el root al que nos subscribimos si se quiere modificar se tiene que modificar este\n            client.subscribe(topicRoot + \"luces\", Mqtt.qos);\n            client.setCallback((MqttCallback) this);\n        } catch (MqttException e) {\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\n        }\n        try {\n            Log.i(Mqtt.TAG, \"Publicando mensaje: \" + \"mensaje\");\n            MqttMessage message = new MqttMessage(\"Superior ON\".getBytes());\n            message.setQos(Mqtt.qos);\n            message.setRetained(false);\n            client.publish(topicRoot+\"luces\", message);\n        } catch (MqttException e) {\n            Log.e(Mqtt.TAG, \"Error al publicar.\", e);\n        }\n    }\n\n    @Override\n    public void connectionLost(Throwable cause) {\n        Log.d(Mqtt.TAG, \"ConexiÃ³n perdida\");\n    }\n\n    @Override\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\n\n    }\n\n    @Override\n    public void deliveryComplete(IMqttDeliveryToken token) {\n        Log.d(Mqtt.TAG, \"Entrega completa\");\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/dashboard/GeneralFragment.java	(date 1611084238766)
@@ -3,8 +3,8 @@
 import android.content.Intent;
 import android.os.Bundle;
 
+import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
-import androidx.constraintlayout.widget.ConstraintLayout;
 import androidx.fragment.app.Fragment;
 
 import android.util.Log;
@@ -21,6 +21,12 @@
 import com.example.infinitycrop.R;
 import com.example.infinitycrop.ui.MachineControl.planta1;
 import com.google.android.material.bottomsheet.BottomSheetDialog;
+import com.google.firebase.Timestamp;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
 import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.EventListener;
 import com.google.firebase.firestore.FirebaseFirestore;
@@ -34,6 +40,10 @@
 import org.eclipse.paho.client.mqttv3.MqttMessage;
 import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;
 
+import java.util.Date;
+import java.util.HashMap;
+import java.util.Map;
+
 import static com.example.comun.Mqtt.topicRoot;
 
 /**
@@ -200,18 +210,18 @@
         //conexiÃ³n con el broker Root1 = Lector de datos
         //nos subscribimos a topic lectura
         try {
-            Log.i(Mqtt.TAG, "Subscrito a " + topicRoot + "luces");//aqui estÃ¡ el root al que nos subscribimos si se quiere modificar se tiene que modificar este
-            client.subscribe(topicRoot + "luces", Mqtt.qos);
+            Log.i(Mqtt.TAG, "Subscrito a " + topicRoot + "operaciones");//aqui estÃ¡ el root al que nos subscribimos si se quiere modificar se tiene que modificar este
+            client.subscribe(topicRoot + "operaciones", Mqtt.qos);
             client.setCallback((MqttCallback) this);
         } catch (MqttException e) {
             Log.e(Mqtt.TAG, "Error al suscribir.", e);
         }
         try {
             Log.i(Mqtt.TAG, "Publicando mensaje: " + "mensaje");
-            MqttMessage message = new MqttMessage("Superior OFF".getBytes());
+            MqttMessage message = new MqttMessage("1-OFF".getBytes());
             message.setQos(Mqtt.qos);
             message.setRetained(false);
-            client.publish(topicRoot+"luces", message);
+            client.publish(topicRoot+"operaciones", message);
         } catch (MqttException e) {
             Log.e(Mqtt.TAG, "Error al publicar.", e);
         }
@@ -237,18 +247,18 @@
         //conexiÃ³n con el broker Root1 = Lector de datos
         //nos subscribimos a topic lectura
         try {
-            Log.i(Mqtt.TAG, "Subscrito a " + topicRoot + "luces");//aqui estÃ¡ el root al que nos subscribimos si se quiere modificar se tiene que modificar este
-            client.subscribe(topicRoot + "luces", Mqtt.qos);
+            Log.i(Mqtt.TAG, "Subscrito a " + topicRoot + "operaciones");//aqui estÃ¡ el root al que nos subscribimos si se quiere modificar se tiene que modificar este
+            client.subscribe(topicRoot + "operaciones", Mqtt.qos);
             client.setCallback((MqttCallback) this);
         } catch (MqttException e) {
             Log.e(Mqtt.TAG, "Error al suscribir.", e);
         }
         try {
             Log.i(Mqtt.TAG, "Publicando mensaje: " + "mensaje");
-            MqttMessage message = new MqttMessage("Superior ON".getBytes());
+            MqttMessage message = new MqttMessage("1-ON".getBytes());
             message.setQos(Mqtt.qos);
             message.setRetained(false);
-            client.publish(topicRoot+"luces", message);
+            client.publish(topicRoot+"operaciones", message);
         } catch (MqttException e) {
             Log.e(Mqtt.TAG, "Error al publicar.", e);
         }
Index: app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/NewPost/NewPostFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.Foro.main.Community.NewPost;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.Foro.main.Community.CommunityMain;\r\nimport com.example.infinitycrop.ui.Foro.main.Community.NewPost.CreatePost.CreatePost;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link NewPostFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class NewPostFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public NewPostFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment NewPostFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static NewPostFragment newInstance(String param1, String param2) {\r\n        NewPostFragment fragment = new NewPostFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    private String comunityID;\r\n    private ConstraintLayout btn_create;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v= inflater.inflate(R.layout.fragment_new_post, container, false);\r\n\r\n        CommunityMain communityMain= (CommunityMain) getActivity();\r\n        comunityID=communityMain.getCommunityUid();\r\n\r\n        btn_create=v.findViewById(R.id.btn_layoutCreatePost);\r\n        btn_create.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getActivity(), CreatePost.class);\r\n                intent.putExtra(\"community\", comunityID);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n        return v;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/NewPost/NewPostFragment.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/NewPost/NewPostFragment.java	(date 1611063499185)
@@ -5,6 +5,7 @@
 
 import androidx.constraintlayout.widget.ConstraintLayout;
 import androidx.fragment.app.Fragment;
+import androidx.recyclerview.widget.RecyclerView;
 
 import android.view.LayoutInflater;
 import android.view.View;
@@ -63,6 +64,8 @@
 
     private String comunityID;
     private ConstraintLayout btn_create;
+    private RecyclerView rv_myPost;
+
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
@@ -72,6 +75,9 @@
         CommunityMain communityMain= (CommunityMain) getActivity();
         comunityID=communityMain.getCommunityUid();
 
+        //rv, adapter
+        rv_myPost=v.findViewById(R.id.rv_myGalleryPosts);
+
         btn_create=v.findViewById(R.id.btn_layoutCreatePost);
         btn_create.setOnClickListener(new View.OnClickListener() {
             @Override
Index: app/src/main/java/com/example/infinitycrop/ui/list_machine/AddMachine.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.list_machine;\n\nimport android.app.ProgressDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.example.infinitycrop.R;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.Timestamp;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\nimport com.google.zxing.integration.android.IntentIntegrator;\nimport com.google.zxing.integration.android.IntentResult;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class AddMachine extends AppCompatActivity implements View.OnClickListener{\n    Button scanBtn;\n    private EditText TextnameMachine;\n    private EditText Textmodel;\n    private CheckBox fav;\n    private long priorityMachine;\n    private LinearLayout BtnregistMachine;\n    private ProgressDialog progressDialogo;\n    private ImageView backToProfile;\n    private String codigo_qr;\n    private CollectionReference machineRef;\n    private FirebaseAuth firebaseAuth;\n    @Override public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.qr_scanner);\n\n        //Boton escanear\n        scanBtn = findViewById(R.id.btn_scan);\n        scanBtn.setOnClickListener(this);\n        //textos y boton de registrar maquina\n        TextnameMachine = (EditText) findViewById(R.id.editTextTextMchineName);\n        Textmodel = (EditText) findViewById(R.id.editTextTextMachineModel);\n        fav = (CheckBox) findViewById(R.id.btn_fav);\n        machineRef = FirebaseFirestore.getInstance().collection(\"Machine\");\n        firebaseAuth=FirebaseAuth.getInstance();\n        BtnregistMachine = (LinearLayout) findViewById(R.id.btn_registMachine);\n        progressDialogo =new ProgressDialog(this);\n\n        BtnregistMachine.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onclick(v);\n            }\n        });\n        backToProfile =findViewById(R.id.backTomachinelist);\n        backToProfile.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                finish();\n            }\n        });\n    }\n\n\n    private void registMachine(){\n        final String name = TextnameMachine.getText().toString().trim();\n        final String model = Textmodel.getText().toString().trim();\n\n\n        //comprobamos si estan vacias o no\n        //verificamos si las cajas estan vacias o no\n        if(TextUtils.isEmpty(name)){\n            Toast.makeText(this,\"Debes introducir un nombre\",Toast.LENGTH_LONG).show();\n            return;\n        }\n        if(model.equals(\"Primero escanea el QR\")){\n            Toast.makeText(this,\"Escanea el QR de tu maquina\",Toast.LENGTH_LONG).show();\n            return;\n        }\n        if (fav.isSelected()) {\n\n            return;\n        }\n\n        progressDialogo.setMessage(\"Registrando obteniendo contenido en lÃ­nea...\");\n        progressDialogo.show();\n    }\n\n\n    @Override\n    public void onClick(View v) {\n        final String name = TextnameMachine.getText().toString().trim();\n        if(name.isEmpty()){\n            Toast.makeText(getApplicationContext(),\"Debes introducir un nombre\",Toast.LENGTH_LONG).show();\n        }else {\n            scanCode();\n        }\n    }\n\n    private void scanCode(){\n        IntentIntegrator integrator = new IntentIntegrator(this);\n        integrator.setCaptureActivity(CaptureAct.class);\n        integrator.setOrientationLocked(false);\n        integrator.setDesiredBarcodeFormats(IntentIntegrator.ALL_CODE_TYPES);\n        integrator.setPrompt(\"Escaneando cÃ³digo de tu mÃ¡quina\");\n        integrator.initiateScan();\n    }\n    @Override\n    protected void onActivityResult(final int requestCode, final int resultCode, Intent data) {\n        final int[] res = new int[1];\n        final IntentResult result = IntentIntegrator.parseActivityResult(requestCode, resultCode, data);\n        if (result!= null){\n            if (result.getContents() !=null){\n                codigo_qr=result.getContents();\n                FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\n                final CollectionReference docIdRef = rootRef.collection(\"Machine\");\n                docIdRef.whereEqualTo(\"description\", codigo_qr)\n                        .get()\n                        .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\n                            @Override\n                            public void onComplete(@NonNull Task<QuerySnapshot> task) {\n                                if(task.isSuccessful()){\n                                    QuerySnapshot document = task.getResult();\n                                    if (document.size()>=1) {\n                                        dialogYaExiste(result);\n                                    } else {\n                                        dialogAÃ±adirmaquina(result);\n                                    }\n                                }else {\n\n                                }\n                            }\n                        });\n                /*docIdRef.get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\n                    @Override\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\n                        if (task.isSuccessful()) {\n                            DocumentSnapshot document = task.getResult();\n                            if (document.exists()) {\n                                dialogYaExiste(result);\n                            } else {\n                                dialogYaExiste(result);\n                            }\n                        } else {\n\n                        }\n                    }\n                });*/\n\n            }\n            else {\n                Toast.makeText(this, \"Sin resultados\", Toast.LENGTH_LONG).show();\n            }\n        }\n        else{\n            super.onActivityResult(requestCode, resultCode, data);\n        }\n\n    }\n    public void dialogAÃ±adirmaquina(IntentResult result){\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setMessage(result.getContents());\n        builder.setTitle(\"El cÃ³digo de tu mÃ¡quina es\");\n        builder.setPositiveButton(\"Escanear de nuevo\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                scanCode();\n            }\n        }).setNegativeButton(\"AÃ±adir\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                addMachine();\n            }\n        });\n        AlertDialog dialog = builder.create();\n        dialog.show();\n    }\n    public void dialogYaExiste(IntentResult result){\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setMessage(result.getContents());\n        builder.setTitle(\"Error! El QR ya ha sido utilizado por otro usuario\");\n        builder.setPositiveButton(\"Escanear de nuevo\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n\n                scanCode();\n            }\n        }).setNegativeButton(\"Cancelar\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.cancel();\n            }\n        });\n        AlertDialog dialog = builder.create();\n        dialog.show();\n    }\n    public void onclick(View v){\n\n        //invocamos al metodo\n        switch (v.getId()){\n            case R.id.btn_registMachine:\n                registMachine();\n        }\n    }\n    public void addMachine(){\n        Textmodel.setText(codigo_qr);\n        if (fav.isChecked()) {\n            priorityMachine=1;\n        }else{\n            priorityMachine=2;\n        }\n        String uid=firebaseAuth.getUid();\n        final String id=Textmodel.getText().toString().trim();\n        /*final Map<String, Object> data = new HashMap<>();\n        data.put(\"userUID\", uid);*/\n        //collecion mediciones\n        final Map<String, Object> intoMediciones = new HashMap<>();\n        intoMediciones.put(\"machineID\", id);\n        intoMediciones.put(\"fecha\", new Timestamp(new Date()));\n        intoMediciones.put(\"Temperatura\", 0);\n        intoMediciones.put(\"Humedad\", 0);\n        intoMediciones.put(\"Humedad Ambiente\", 0);\n        intoMediciones.put(\"Luminosidad\", 0);\n        //coleccion actuadores\n        final Map<String, Object> intoActuadores = new HashMap<>();\n        intoActuadores.put(\"machineID\", id);\n        intoActuadores.put(\"fecha\", new Timestamp(new Date()));\n        intoActuadores.put(\"Bomba de agua\", false);\n        intoActuadores.put(\"Ventiladores\", false);\n        intoActuadores.put(\"Luces\", false);\n        machineRef.add(new MachineModel(TextnameMachine.getText().toString().trim(), priorityMachine, id, uid));\n        FirebaseFirestore.getInstance().collection(\"Mediciones\").document().set(intoMediciones);\n        FirebaseFirestore.getInstance().collection(\"Actuadores\").document().set(intoActuadores);\n                /*.addOnCompleteListener(new OnCompleteListener<DocumentReference>() {\n                    @Override\n                    public void onComplete(@NonNull Task<DocumentReference> task) {\n                        DocumentReference document=task.getResult();\n                        machineRef.document(document.getId()).collection(\"Nivel 1\")\n                                .document(\"Mediciones\")\n                                .set(data);\n                    }\n                })\n                .addOnCompleteListener(new OnCompleteListener<DocumentReference>() {\n                    @Override\n                    public void onComplete(@NonNull Task<DocumentReference> task) {\n                        DocumentReference document=task.getResult();\n                        machineRef.document(document.getId()).collection(\"Nivel 1\")\n                                .document(\"Actuadores\")\n                                .set(data);\n                    }\n                })\n                .addOnCompleteListener(new OnCompleteListener<DocumentReference>() {\n                    @Override\n                    public void onComplete(@NonNull Task<DocumentReference> task) {\n                        DocumentReference document=task.getResult();\n                        machineRef.document(document.getId()).collection(\"Nivel 2\")\n                                .document(\"Mediciones\")\n                                .set(data);\n                    }\n                })\n                .addOnCompleteListener(new OnCompleteListener<DocumentReference>() {\n                    @Override\n                    public void onComplete(@NonNull Task<DocumentReference> task) {\n                        DocumentReference document=task.getResult();\n                        machineRef.document(document.getId()).collection(\"Nivel 2\")\n                                .document(\"Actuadores\")\n                                .set(data);\n                    }\n                });*/\n        Toast.makeText(this, \"Maquina aÃ±adida\", Toast.LENGTH_SHORT).show();\n        finish();\n    }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/list_machine/AddMachine.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/list_machine/AddMachine.java	(date 1611086380634)
@@ -49,6 +49,7 @@
     private String codigo_qr;
     private CollectionReference machineRef;
     private FirebaseAuth firebaseAuth;
+    private FirebaseFirestore db;
     @Override public void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.qr_scanner);
@@ -61,6 +62,7 @@
         Textmodel = (EditText) findViewById(R.id.editTextTextMachineModel);
         fav = (CheckBox) findViewById(R.id.btn_fav);
         machineRef = FirebaseFirestore.getInstance().collection("Machine");
+        db=FirebaseFirestore.getInstance();
         firebaseAuth=FirebaseAuth.getInstance();
         BtnregistMachine = (LinearLayout) findViewById(R.id.btn_registMachine);
         progressDialogo =new ProgressDialog(this);
@@ -233,60 +235,88 @@
         final String id=Textmodel.getText().toString().trim();
         /*final Map<String, Object> data = new HashMap<>();
         data.put("userUID", uid);*/
-        //collecion mediciones
-        final Map<String, Object> intoMediciones = new HashMap<>();
-        intoMediciones.put("machineID", id);
-        intoMediciones.put("fecha", new Timestamp(new Date()));
-        intoMediciones.put("Temperatura", 0);
-        intoMediciones.put("Humedad", 0);
-        intoMediciones.put("Humedad Ambiente", 0);
-        intoMediciones.put("Luminosidad", 0);
-        //coleccion actuadores
-        final Map<String, Object> intoActuadores = new HashMap<>();
-        intoActuadores.put("machineID", id);
-        intoActuadores.put("fecha", new Timestamp(new Date()));
-        intoActuadores.put("Bomba de agua", false);
-        intoActuadores.put("Ventiladores", false);
-        intoActuadores.put("Luces", false);
+        //collecion mediciones general
+        final Map<String, Object> a = new HashMap<>();
+        a.put("Humedad", "0");
+        a.put("Luminosidad", "0");
+        a.put("Temperatura", "0");
+        a.put("Fecha", new Timestamp(new Date()));
+        a.put("machineId", id);
+        //collecion mediciones planta 1
+        final Map<String, Object> a1 = new HashMap<>();
+        a1.put("Humedad", "0");
+        a1.put("Humedad Ambiente", "0");
+        a1.put("Temperatura", "0");
+        a1.put("Fecha", new Timestamp(new Date()));
+        a1.put("machineId", id);
+        //collecion mediciones planta 2
+        final Map<String, Object> a2 = new HashMap<>();
+        a2.put("Humedad Ambiente", "0");
+        a2.put("Temperatura", "0");
+        a2.put("Fecha", new Timestamp(new Date()));
+        a2.put("machineId", id);
         machineRef.add(new MachineModel(TextnameMachine.getText().toString().trim(), priorityMachine, id, uid));
-        FirebaseFirestore.getInstance().collection("Mediciones").document().set(intoMediciones);
-        FirebaseFirestore.getInstance().collection("Actuadores").document().set(intoActuadores);
-                /*.addOnCompleteListener(new OnCompleteListener<DocumentReference>() {
-                    @Override
-                    public void onComplete(@NonNull Task<DocumentReference> task) {
-                        DocumentReference document=task.getResult();
-                        machineRef.document(document.getId()).collection("Nivel 1")
-                                .document("Mediciones")
-                                .set(data);
-                    }
-                })
-                .addOnCompleteListener(new OnCompleteListener<DocumentReference>() {
-                    @Override
-                    public void onComplete(@NonNull Task<DocumentReference> task) {
-                        DocumentReference document=task.getResult();
-                        machineRef.document(document.getId()).collection("Nivel 1")
-                                .document("Actuadores")
-                                .set(data);
-                    }
-                })
-                .addOnCompleteListener(new OnCompleteListener<DocumentReference>() {
-                    @Override
-                    public void onComplete(@NonNull Task<DocumentReference> task) {
-                        DocumentReference document=task.getResult();
-                        machineRef.document(document.getId()).collection("Nivel 2")
-                                .document("Mediciones")
-                                .set(data);
-                    }
-                })
-                .addOnCompleteListener(new OnCompleteListener<DocumentReference>() {
-                    @Override
-                    public void onComplete(@NonNull Task<DocumentReference> task) {
-                        DocumentReference document=task.getResult();
-                        machineRef.document(document.getId()).collection("Nivel 2")
-                                .document("Actuadores")
-                                .set(data);
-                    }
-                });*/
+        db.collection("Mediciones general").document(id).set(a);
+        db.collection("Mediciones planta 1").document(id).set(a1);
+        db.collection("Mediciones planta 2").document(id).set(a2);
+        //aÃ±adir subCollecion datos piso
+        final Map<String, Object> planta1 = new HashMap<>();
+        planta1.put("fecha", "00/00/0000");
+        planta1.put("hora", "00:00 a. m.");
+        planta1.put("name", "Planta 1");
+        planta1.put("piso", 1);
+        planta1.put("estacion","Esta planta se encuentra en la estaciÃ³n nÃºmero 1");
+        planta1.put("estado",0);
+        final Map<String, Object> planta2 = new HashMap<>();
+        planta2.put("fecha", "00/00/0000");
+        planta2.put("hora", "00:00 a. m.");
+        planta2.put("name", "Planta 2");
+        planta2.put("piso", 1);
+        planta2.put("estado",0);
+        planta2.put("estacion","Esta planta se encuentra en la estaciÃ³n nÃºmero 2");
+        final Map<String, Object> planta3 = new HashMap<>();
+        planta3.put("fecha", "00/00/0000");
+        planta3.put("hora", "00:00 a. m.");
+        planta3.put("name", "Planta 3");
+        planta3.put("piso", 1);
+        planta3.put("estado",0);
+        planta3.put("estacion","Esta planta se encuentra en la estaciÃ³n nÃºmero 3");
+        db.collection("Mediciones planta 1").document(id).collection("DatosPiso")
+                .document("planta1").set(planta1);
+        db.collection("Mediciones planta 1").document(id).collection("DatosPiso")
+                .document("planta2").set(planta2);
+        db.collection("Mediciones planta 1").document(id).collection("DatosPiso")
+                .document("planta3").set(planta3);
+        //aÃ±adir subCollecion datos piso 2
+        final Map<String, Object> planta4 = new HashMap<>();
+        planta4.put("fecha", "00/00/0000");
+        planta4.put("hora", "00:00 a. m.");
+        planta4.put("name", "Planta 1");
+        planta4.put("piso", 2);
+        planta4.put("estacion","Esta planta se encuentra en la estaciÃ³n nÃºmero 4");
+        planta4.put("estado",0);
+        final Map<String, Object> planta5 = new HashMap<>();
+        planta5.put("fecha", "00/00/0000");
+        planta5.put("hora", "00:00 a. m.");
+        planta5.put("name", "Planta 2");
+        planta5.put("piso", 2);
+        planta5.put("estado",0);
+        planta5.put("estacion","Esta planta se encuentra en la estaciÃ³n nÃºmero 5");
+        final Map<String, Object> planta6 = new HashMap<>();
+        planta6.put("fecha", "00/00/0000");
+        planta6.put("hora", "00:00 a. m.");
+        planta6.put("name", "Planta 3");
+        planta6.put("piso", 2);
+        planta6.put("estado",0);
+        planta6.put("estacion","Esta planta se encuentra en la estaciÃ³n nÃºmero 6");
+        db.collection("Mediciones planta 2").document(id).collection("DatosPiso")
+                .document("planta1").set(planta4);
+        db.collection("Mediciones planta 2").document(id).collection("DatosPiso")
+                .document("planta2").set(planta5);
+        db.collection("Mediciones planta 2").document(id).collection("DatosPiso")
+                .document("planta3").set(planta6);
+
+
         Toast.makeText(this, "Maquina aÃ±adida", Toast.LENGTH_SHORT).show();
         finish();
     }
Index: app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/NewPost/CreatePost/CreatePost.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.Foro.main.Community.NewPost.CreatePost;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.Foro.lets_start.welcome_forum;\r\nimport com.google.android.gms.tasks.Continuation;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.squareup.picasso.Picasso;\r\nimport com.theartofdev.edmodo.cropper.CropImage;\r\nimport com.theartofdev.edmodo.cropper.CropImageView;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport id.zelory.compressor.Compressor;\r\n\r\npublic class CreatePost extends AppCompatActivity {\r\n\r\n    private ImageView img_post;\r\n    private Bitmap thumb_bitmap;\r\n    private TextView btn_changeImg;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_post);\r\n\r\n        img_post=findViewById(R.id.img_CreatePost);\r\n        btn_changeImg=findViewById(R.id.txt_changeImgPost);\r\n        CropImage.startPickImageActivity(CreatePost.this);\r\n        btn_changeImg.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                CropImage.startPickImageActivity(CreatePost.this);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode==CropImage.PICK_IMAGE_CHOOSER_REQUEST_CODE && resultCode == Activity.RESULT_OK){\r\n            Uri imageuri=CropImage.getPickImageResultUri(this,data);\r\n            //recortar imagen\r\n            CropImage.activity(imageuri)\r\n                    .setGuidelines(CropImageView.Guidelines.ON)\r\n                    .start(CreatePost.this);\r\n        }\r\n        if(requestCode==CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE){\r\n            CropImage.ActivityResult result=CropImage.getActivityResult(data);\r\n            if(resultCode==RESULT_OK){\r\n                Uri resultUri=result.getUri();\r\n                File url=new File(resultUri.getPath());\r\n                Picasso.get().load(url).into(img_post);\r\n                //comprimir imagen\r\n                try{\r\n                    thumb_bitmap=new Compressor(this)\r\n                            .setQuality(90)\r\n                            .compressToBitmap(url);\r\n                }catch (IOException e){\r\n                    e.printStackTrace();\r\n                }\r\n                ByteArrayOutputStream byteArrayOutputStream=new ByteArrayOutputStream();\r\n                thumb_bitmap.compress(Bitmap.CompressFormat.JPEG,100,byteArrayOutputStream);\r\n                final byte[] thumb_byte= byteArrayOutputStream.toByteArray();\r\n\r\n                /*String urlStorage=\"foro/user/\"+id+\"/profile img\";\r\n                final StorageReference ref = mStorageRef.child(urlStorage).child(\"userImg\");\r\n                UploadTask uploadTask=ref.putBytes(thumb_byte);\r\n                //subit imagen storage\r\n                Task<Uri> uriTask=uploadTask.continueWithTask(new Continuation<UploadTask.TaskSnapshot, Task<Uri>>() {\r\n                    @Override\r\n                    public Task<Uri> then(@NonNull Task<UploadTask.TaskSnapshot> task) throws Exception {\r\n                        return ref.getDownloadUrl();\r\n                    }\r\n                }).addOnCompleteListener(new OnCompleteListener<Uri>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<Uri> task) {\r\n                        Uri dowloadUri=task.getResult();\r\n                        image_url=dowloadUri.toString();\r\n\r\n                    }\r\n                });*/\r\n\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/NewPost/CreatePost/CreatePost.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/Foro/main/Community/NewPost/CreatePost/CreatePost.java	(date 1611007548402)
@@ -3,6 +3,8 @@
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.constraintlayout.widget.ConstraintLayout;
+import androidx.recyclerview.widget.RecyclerView;
 
 import android.app.Activity;
 import android.content.Intent;
@@ -10,14 +12,28 @@
 import android.net.Uri;
 import android.os.Bundle;
 import android.view.View;
+import android.widget.Button;
 import android.widget.ImageView;
 import android.widget.TextView;
+import android.widget.Toast;
 
 import com.example.infinitycrop.R;
+import com.example.infinitycrop.ui.Foro.lets_start.rv_community.CommunityModel;
 import com.example.infinitycrop.ui.Foro.lets_start.welcome_forum;
+import com.example.infinitycrop.ui.Foro.main.Home.RVs.PostModel;
+import com.example.infinitycrop.ui.Foro.main.Home.RVs.RvPost.AdapterPost;
 import com.google.android.gms.tasks.Continuation;
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.Task;
+import com.google.android.material.textfield.TextInputEditText;
+import com.google.firebase.Timestamp;
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
+import com.google.firebase.firestore.DocumentSnapshot;
+import com.google.firebase.firestore.FirebaseFirestore;
+import com.google.firebase.firestore.QueryDocumentSnapshot;
+import com.google.firebase.firestore.QuerySnapshot;
+import com.google.firebase.storage.FirebaseStorage;
 import com.google.firebase.storage.StorageReference;
 import com.google.firebase.storage.UploadTask;
 import com.squareup.picasso.Picasso;
@@ -27,6 +43,10 @@
 import java.io.ByteArrayOutputStream;
 import java.io.File;
 import java.io.IOException;
+import java.util.Date;
+import java.util.HashMap;
+import java.util.Map;
+import java.util.UUID;
 
 import id.zelory.compressor.Compressor;
 
@@ -35,20 +55,56 @@
     private ImageView img_post;
     private Bitmap thumb_bitmap;
     private TextView btn_changeImg;
+    private StorageReference mStorageRef;
+    private Button btn_back;
+    private TextInputEditText input_name;
+    private TextInputEditText desc_name;
+    private Button btn_createPost;
+    private String image_url;
+    private  Uri resultUri;
+    private FirebaseUser usuario;
+    private FirebaseFirestore db;
+    private String id;
+    private String uid;
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_create_post);
 
+        Bundle extras = getIntent().getExtras();
+        uid = extras.getString("community");
+
+        btn_back=findViewById(R.id.btnBackCreatePost);
         img_post=findViewById(R.id.img_CreatePost);
         btn_changeImg=findViewById(R.id.txt_changeImgPost);
+        input_name=findViewById(R.id.input_editText_Createpost);
+        desc_name=findViewById(R.id.input_desc_editText_Createpost);
+        btn_createPost=findViewById(R.id.btn_createButtonPost);
+        mStorageRef = FirebaseStorage.getInstance().getReference();
+        usuario = FirebaseAuth.getInstance().getCurrentUser();
+        db= FirebaseFirestore.getInstance();
+        id=usuario.getUid();
+        //init fotopicker
         CropImage.startPickImageActivity(CreatePost.this);
+        //onclicks
         btn_changeImg.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
                 CropImage.startPickImageActivity(CreatePost.this);
             }
         });
+        btn_back.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                cerrarActivity();
+            }
+        });
+        btn_createPost.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                comprobarInputs();
+            }
+        });
     }
 
     @Override
@@ -65,42 +121,75 @@
         if(requestCode==CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE){
             CropImage.ActivityResult result=CropImage.getActivityResult(data);
             if(resultCode==RESULT_OK){
-                Uri resultUri=result.getUri();
+                resultUri=result.getUri();
                 File url=new File(resultUri.getPath());
                 Picasso.get().load(url).into(img_post);
-                //comprimir imagen
-                try{
-                    thumb_bitmap=new Compressor(this)
-                            .setQuality(90)
-                            .compressToBitmap(url);
-                }catch (IOException e){
-                    e.printStackTrace();
-                }
-                ByteArrayOutputStream byteArrayOutputStream=new ByteArrayOutputStream();
-                thumb_bitmap.compress(Bitmap.CompressFormat.JPEG,100,byteArrayOutputStream);
-                final byte[] thumb_byte= byteArrayOutputStream.toByteArray();
+            }
+        }
+    }
+    private void comprobarInputs(){
+        if(input_name.getText().toString().equals("")){
+            Toast.makeText(getApplicationContext(),"Indique el tÃ­tulo del post", Toast.LENGTH_LONG).show();
+        }else if(img_post.getDrawable()==null){
+            Toast.makeText(getApplicationContext(),"Seleccione una imagen para el post", Toast.LENGTH_LONG).show();
+        }else{
+            //all gucci
+            subirPost();
+        }
+    }
 
-                /*String urlStorage="foro/user/"+id+"/profile img";
-                final StorageReference ref = mStorageRef.child(urlStorage).child("userImg");
-                UploadTask uploadTask=ref.putBytes(thumb_byte);
-                //subit imagen storage
-                Task<Uri> uriTask=uploadTask.continueWithTask(new Continuation<UploadTask.TaskSnapshot, Task<Uri>>() {
-                    @Override
-                    public Task<Uri> then(@NonNull Task<UploadTask.TaskSnapshot> task) throws Exception {
-                        return ref.getDownloadUrl();
-                    }
-                }).addOnCompleteListener(new OnCompleteListener<Uri>() {
-                    @Override
-                    public void onComplete(@NonNull Task<Uri> task) {
-                        Uri dowloadUri=task.getResult();
-                        image_url=dowloadUri.toString();
-
-                    }
-                });*/
+    private void subirPost(){
+        //upload image into storage firebase
+        String urlStorage="foro/communities/"+uid+"/posts/"+UUID.randomUUID().toString();
+        final StorageReference ref = mStorageRef.child(urlStorage);
+        UploadTask uploadTask=ref.putFile(resultUri);
+        //subit imagen storage
+        Task<Uri> uriTask=uploadTask.continueWithTask(new Continuation<UploadTask.TaskSnapshot, Task<Uri>>() {
+            @Override
+            public Task<Uri> then(@NonNull Task<UploadTask.TaskSnapshot> task) throws Exception {
+                return ref.getDownloadUrl();
+            }
+        }).addOnCompleteListener(new OnCompleteListener<Uri>() {
+            @Override
+            public void onComplete(@NonNull Task<Uri> task) {
+                Uri dowloadUri=task.getResult();
+                image_url=dowloadUri.toString();
+                //subir a coleccion posts
+                Map<String, Object> post = new HashMap<>();
+                post.put("creator", id);post.put("community", uid);
+                post.put("likes", 0);post.put("tittle", input_name.getText().toString());
+                post.put("desc", desc_name.getText().toString());post.put("comments", "");
+                post.put("img", image_url);post.put("date", new Timestamp(new Date()));
+                db.collection("Posts").add(post);
+                sumNumOfPost();
+                cerrarActivity();
+            }
+        });
+    }
 
+    private void sumNumOfPost(){
+        db.collection("Community").document(uid)
+                .get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
+                @Override
+                public void onComplete(@NonNull Task<DocumentSnapshot> task) {
+                    if (task.isSuccessful()) {
+                        DocumentSnapshot document = task.getResult();
+                        if (document.exists()) {
+                            CommunityModel posts=document.toObject(CommunityModel.class);
+                            int numPosts=posts.getPosts();
+                            numPosts++;
+                            db.collection("Community").document(uid).update("posts",numPosts);
+                        } else {
 
+                        }
+                    } else {
 
-            }
-        }
+                    }
+                }
+            });
     }
+
+    private void cerrarActivity(){
+        finish();
+    }
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_general.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".ui.dashboard.DashboardFragment\">\n\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_1\">\n\n        <RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginRight=\"20dp\">\n\n            <TextView\n                android:id=\"@+id/textDashboardGeneral\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Dashboard  >\"\n\n                android:textSize=\"19sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/textDashboardGeneral\"\n                android:text=\"4 sensores\"\n\n                android:textSize=\"14sp\" />\n\n            <LinearLayout\n                android:layout_width=\"243dp\"\n                android:layout_height=\"93dp\"\n                android:layout_alignBottom=\"@id/textDashboardGeneral\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_alignParentEnd=\"true\"\n                android:layout_marginStart=\"25dp\"\n                android:layout_marginTop=\"0dp\"\n                android:layout_marginEnd=\"-9dp\"\n                android:layout_marginBottom=\"-87dp\"\n                android:layout_toEndOf=\"@+id/textDashboardGeneral\"\n                android:orientation=\"vertical\">\n\n                <Button\n                    android:id=\"@+id/btnMyMachine\"\n                    android:layout_width=\"182dp\"\n                    android:layout_height=\"38dp\"\n                    android:layout_marginStart=\"0dp\"\n                    android:layout_marginTop=\"1dp\"\n                    android:layout_marginEnd=\"38dp\"\n                    android:layout_marginBottom=\"-22dp\"\n                    android:background=\"@drawable/btn_scan\"\n                    android:textColor=\"@color/white\"\n                    android:text=\"MI maquina\" />\n            </LinearLayout>\n\n            <!--<ImageView\n                android:layout_width=\"62dp\"\n                android:layout_height=\"62dp\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_sun\" />-->\n        </RelativeLayout>\n        <GridLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:columnCount=\"2\"\n            android:rowCount=\"3\"\n            android:alignmentMode=\"alignMargins\"\n            android:columnOrderPreserved=\"false\">\n            <!--temperatura-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textTemperaturaGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Temperatura\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchTemperaturaGeneral\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchTemperaturaGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:buttonTint=\"#FFFFFF\"\n                            android:checked=\"true\"\n                            android:fitsSystemWindows=\"false\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaTemperaturaGeneral\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"34Â°C\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textTemperaturaGeneral\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textTemperaturaGeneral\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgTemperaturaGeneral\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_temperature\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaTemperaturaGeneral\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaTemperaturaGeneral\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaTemperaturaGeneral\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--humedad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textHumedadGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Humedad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchHumedadGeneral\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchHumedadGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaHumedadGeneral\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"68%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textHumedadGeneral\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textHumedadGeneral\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgHumedadGeneral\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humidity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaHumedadGeneral\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaHumedadGeneral\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaHumedadGeneral\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--salinidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textSalinidadGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"H. Ambiente\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchSalinidadGeneral\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchSalinidadGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaSalinidadGeneral\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"10%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textSalinidadGeneral\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textSalinidadGeneral\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgSalinidadGeneral\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humedad_ambiente\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaSalinidadGeneral\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaSalinidadGeneral\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaSalinidadGeneral\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--Luminosidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textLuminosidadGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Luminosidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchLuminosidadGeneral\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchLuminosidadGeneral\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorHighlight=\"#FFFFFF\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidasLuminosidadGeneral\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"90%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textLuminosidadGeneral\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textLuminosidadGeneral\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgLuminosidadGeneral\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_luminosity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidasLuminosidadGeneral\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidasLuminosidadGeneral\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidasLuminosidadGeneral\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n\n\n\n\n        </GridLayout>\n\n    </LinearLayout>\n</ScrollView>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_general.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/fragment_general.xml	(date 1610993420598)
@@ -101,17 +101,20 @@
 
                         <TextView
                             android:id="@+id/textTemperaturaGeneral"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
                             android:text="Temperatura"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchTemperaturaGeneral"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchTemperaturaGeneral"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchTemperaturaGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -123,7 +126,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaTemperaturaGeneral"
@@ -175,17 +178,20 @@
 
                         <TextView
                             android:id="@+id/textHumedadGeneral"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
                             android:text="Humedad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchHumedadGeneral"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchHumedadGeneral"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchHumedadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -195,7 +201,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaHumedadGeneral"
@@ -247,17 +253,20 @@
 
                         <TextView
                             android:id="@+id/textSalinidadGeneral"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
-                            android:text="H. Ambiente"
+                            android:text="Humedad Ambiente"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchSalinidadGeneral"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchSalinidadGeneral"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchSalinidadGeneral"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -267,7 +276,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaSalinidadGeneral"
Index: app/src/main/res/layout/fragment_posts_community.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Foro.main.Community.Posts.PostsCommunityFragment\">\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView29\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"30dp\"\r\n                android:text=\"@string/posts_text1\"\r\n                android:textSize=\"18sp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/post_community\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"40dp\"\r\n                android:isScrollContainer=\"false\"\r\n                android:nestedScrollingEnabled=\"false\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/textView29\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </ScrollView>\r\n</FrameLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_posts_community.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/fragment_posts_community.xml	(date 1611013095463)
@@ -6,14 +6,13 @@
     android:layout_height="match_parent"
     tools:context=".ui.Foro.main.Community.Posts.PostsCommunityFragment">
 
-    <ScrollView
+    <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
+        android:id="@+id/swipeToRefresh"
         android:layout_width="match_parent"
         android:layout_height="match_parent">
-
         <androidx.constraintlayout.widget.ConstraintLayout
             android:layout_width="match_parent"
-            android:layout_height="wrap_content">
-
+            android:layout_height="match_parent">
             <TextView
                 android:id="@+id/textView29"
                 android:layout_width="wrap_content"
@@ -28,15 +27,17 @@
             <androidx.recyclerview.widget.RecyclerView
                 android:id="@+id/post_community"
                 android:layout_width="match_parent"
-                android:layout_height="wrap_content"
+                android:layout_height="0dp"
                 android:layout_marginTop="20dp"
-                android:layout_marginBottom="40dp"
-                android:isScrollContainer="false"
-                android:nestedScrollingEnabled="false"
+                android:layout_marginBottom="70dp"
                 app:layout_constraintBottom_toBottomOf="parent"
                 app:layout_constraintEnd_toEndOf="parent"
                 app:layout_constraintStart_toStartOf="parent"
                 app:layout_constraintTop_toBottomOf="@+id/textView29" />
         </androidx.constraintlayout.widget.ConstraintLayout>
-    </ScrollView>
+
+    </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
+
+
+
 </FrameLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_planta1.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\".ui.dashboard.DashboardFragment\">\n\n\n    <LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_1\">\n\n        <RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginTop=\"10dp\"\n            android:layout_marginRight=\"20dp\">\n\n            <TextView\n                android:id=\"@+id/textDashboard\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Dashboard  >\"\n\n                android:textSize=\"19sp\" />\n\n            <TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@+id/textDashboard\"\n                android:text=\"4 sensores\"\n\n                android:textSize=\"14sp\" />\n\n            <!--<ImageView\n                android:layout_width=\"62dp\"\n                android:layout_height=\"62dp\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_sun\" />-->\n        </RelativeLayout>\n        <GridLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:columnCount=\"2\"\n            android:rowCount=\"3\"\n            android:alignmentMode=\"alignMargins\"\n            android:columnOrderPreserved=\"false\">\n            <!--temperatura-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Temperatura\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchTemperatura\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchTemperatura\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:buttonTint=\"#FFFFFF\"\n                            android:checked=\"true\"\n                            android:fitsSystemWindows=\"false\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaTemperatura\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"34Â°C\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textTemperatura\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textTemperatura\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgTemperatura\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_temperature\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaTemperatura\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaTemperatura\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--humedad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Humedad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchHumedad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchHumedad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaHumedad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"68%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textHumedad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textHumedad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgHumedad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humidity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaHumedad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaHumedad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--salinidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"H. Ambiente\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchSalinidad\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchSalinidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidaSalinidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"10%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textSalinidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textSalinidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgSalinidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_humedad_ambiente\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidaSalinidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidaSalinidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n            <!--Luminosidad-->\n            <androidx.cardview.widget.CardView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_columnWeight=\"1\"\n                android:layout_rowWeight=\"1\"\n                app:cardElevation=\"6dp\"\n                app:cardCornerRadius=\"12dp\"\n                android:layout_marginBottom=\"12dp\"\n                android:layout_margin=\"12dp\"\n                >\n\n                <LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n\n                    android:orientation=\"vertical\"\n                    android:padding=\"2dp\">\n\n                    <androidx.constraintlayout.widget.ConstraintLayout\n                        android:layout_width=\"match_parent\"\n                        android:layout_marginBottom=\"12dp\"\n                        android:layout_height=\"match_parent\">\n\n\n                        <TextView\n                            android:id=\"@+id/textLuminosidad\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginStart=\"8dp\"\n                            android:layout_marginTop=\"8dp\"\n                            android:text=\"Luminosidad\"\n                            android:textSize=\"16sp\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/switchLuminosidadPlamta1\"\n                            app:layout_constraintStart_toStartOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <Switch\n                            android:id=\"@+id/switchLuminosidadPlamta1\"\n                            android:layout_width=\"wrap_content\"\n                            android:layout_height=\"wrap_content\"\n                            android:layout_marginTop=\"8dp\"\n                            android:layout_marginEnd=\"8dp\"\n                            android:checked=\"true\"\n                            android:textColorHighlight=\"#FFFFFF\"\n                            android:textColorLink=\"#a0c63e\"\n                            android:textSize=\"8sp\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintTop_toTopOf=\"parent\" />\n\n                        <TextView\n                            android:id=\"@+id/medidasLuminosidad\"\n                            android:layout_width=\"90dp\"\n                            android:layout_height=\"39dp\"\n                            android:layout_marginTop=\"24dp\"\n                            android:text=\"90%\"\n                            android:textSize=\"31sp\"\n                            app:layout_constraintStart_toStartOf=\"@+id/textLuminosidad\"\n                            app:layout_constraintTop_toBottomOf=\"@+id/textLuminosidad\" />\n\n                        <ImageView\n                            android:id=\"@+id/imgLuminosidad\"\n                            android:layout_width=\"53dp\"\n                            android:layout_height=\"55dp\"\n                            android:layout_marginEnd=\"1dp\"\n                            android:src=\"@drawable/icons_luminosity\"\n                            app:layout_constraintBottom_toBottomOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintEnd_toEndOf=\"parent\"\n                            app:layout_constraintStart_toEndOf=\"@+id/medidasLuminosidad\"\n                            app:layout_constraintTop_toTopOf=\"@+id/medidasLuminosidad\" />\n                    </androidx.constraintlayout.widget.ConstraintLayout>\n                </LinearLayout>\n            </androidx.cardview.widget.CardView>\n\n\n\n\n        </GridLayout>\n\n    </LinearLayout>\n</ScrollView>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_planta1.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/fragment_planta1.xml	(date 1610994569689)
@@ -75,17 +75,21 @@
 
                         <TextView
                             android:id="@+id/textTemperatura"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
+                            android:layout_marginEnd="8dp"
                             android:text="Temperatura"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchTemperatura"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchTemperatura"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchTemperatura"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -97,7 +101,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaTemperatura"
@@ -149,17 +153,21 @@
 
                         <TextView
                             android:id="@+id/textHumedad"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
+                            android:layout_marginEnd="8dp"
                             android:text="Humedad"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchHumedad"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchHumedad"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchHumedad"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -169,7 +177,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaHumedad"
@@ -221,17 +229,21 @@
 
                         <TextView
                             android:id="@+id/textSalinidad"
-                            android:layout_width="wrap_content"
+                            android:layout_width="0dp"
                             android:layout_height="wrap_content"
                             android:layout_marginStart="8dp"
                             android:layout_marginTop="8dp"
-                            android:text="H. Ambiente"
+                            android:layout_marginEnd="8dp"
+                            android:text="Humedad Ambiente"
                             android:textSize="16sp"
-                            app:layout_constraintBottom_toBottomOf="@+id/switchSalinidad"
+                            app:layout_constraintEnd_toEndOf="parent"
+                            app:layout_constraintStart_toStartOf="parent"
+                            app:layout_constraintTop_toTopOf="parent" />
+                            <!--app:layout_constraintBottom_toBottomOf="@+id/switchSalinidad"-->
                             app:layout_constraintStart_toStartOf="parent"
                             app:layout_constraintTop_toTopOf="parent" />
 
-                        <Switch
+                        <!--<Switch
                             android:id="@+id/switchSalinidad"
                             android:layout_width="wrap_content"
                             android:layout_height="wrap_content"
@@ -241,7 +253,7 @@
                             android:textColorLink="#a0c63e"
                             android:textSize="8sp"
                             app:layout_constraintEnd_toEndOf="parent"
-                            app:layout_constraintTop_toTopOf="parent" />
+                            app:layout_constraintTop_toTopOf="parent" />-->
 
                         <TextView
                             android:id="@+id/medidaSalinidad"
Index: github.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>gpr.usr = 61469172\ngpr.key = 72a0f63b7097b413e8ff78a7dd6ca9412aaf232c
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>windows-1252
===================================================================
--- github.properties	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ github.properties	(date 1610820456596)
@@ -1,2 +1,2 @@
-gpr.usr = 61469172
-gpr.key = 72a0f63b7097b413e8ff78a7dd6ca9412aaf232c
\ No newline at end of file
+gpr.usr = 61473165
+gpr.key = 9671a8c2e26934b214e49dd99b96077296ee2aca
\ No newline at end of file
Index: app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/HomeForoFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.Foro.main.Home;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.Foro.lets_start.EditCommunity;\r\nimport com.example.infinitycrop.ui.Foro.lets_start.choose_community;\r\nimport com.example.infinitycrop.ui.Foro.lets_start.rv_community.CommunityModel;\r\nimport com.example.infinitycrop.ui.Foro.lets_start.welcome_forum;\r\nimport com.example.infinitycrop.ui.Foro.main.Community.CommunityMain;\r\nimport com.example.infinitycrop.ui.Foro.main.Home.RVs.PostModel;\r\nimport com.example.infinitycrop.ui.Foro.main.Home.RVs.RVFollowed.AdapterFollowedCmty;\r\nimport com.example.infinitycrop.ui.Foro.main.Home.RVs.RvPost.AdapterPost;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.makeramen.roundedimageview.RoundedImageView;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.zip.CheckedOutputStream;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link HomeForoFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class HomeForoFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public HomeForoFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment HomeForoFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static HomeForoFragment newInstance(String param1, String param2) {\r\n        HomeForoFragment fragment = new HomeForoFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    //attributes\r\n    //Rv\r\n    private RecyclerView followed_comunities;\r\n    private AdapterFollowedCmty adapterFollowedCmty;\r\n    private RecyclerView followed_posts;\r\n    private AdapterPost adapterPost;\r\n    //firebase\r\n    private FirebaseFirestore db;\r\n    private FirebaseAuth firebaseAuth;\r\n    private String uid;\r\n\r\n    //List\r\n    private List<CommunityModel> communityModels= new ArrayList<>();\r\n    //Set para que no se repitan las id de las comunidades y que no se dupliquen\r\n    private Set<String> cimmunitiesId = new HashSet<>();\r\n    private List<PostModel> posts= new ArrayList<>();\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v= inflater.inflate(R.layout.fragment_home_foro, container, false);\r\n        //firebase\r\n        db=FirebaseFirestore.getInstance();\r\n        firebaseAuth=FirebaseAuth.getInstance();\r\n        uid=firebaseAuth.getUid();\r\n        //rv declaration\r\n        followed_comunities=v.findViewById(R.id.followed_communities);\r\n        followed_posts=v.findViewById(R.id.followed_posts);\r\n        initRvFollowedCommunities();\r\n        initRvFollowedPosts();\r\n        getIdFollowedCommunities();\r\n        return v;\r\n    }\r\n    private void initRvFollowedCommunities(){\r\n        followed_comunities.setHasFixedSize(true);\r\n        followed_comunities.setLayoutManager(new LinearLayoutManager(getContext(),LinearLayoutManager.HORIZONTAL,false));\r\n    }\r\n    private void getIdFollowedCommunities(){\r\n        db.collection(\"Foro user\").document(uid).collection(\"Following\")\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot value,\r\n                                        @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            return;\r\n                        }\r\n                        if(value!=null){\r\n                            cimmunitiesId.clear();\r\n                            for (QueryDocumentSnapshot doc : value) {\r\n                                cimmunitiesId.add(doc.getId());\r\n                            }\r\n                            //guardo en la lista todas las comunidades que ha creado el user logged\r\n                            db.collection(\"Community\")\r\n                                    .whereEqualTo(\"creator\",uid)\r\n                                    .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                                        @Override\r\n                                        public void onEvent(@Nullable QuerySnapshot value,\r\n                                                            @Nullable FirebaseFirestoreException e) {\r\n                                            if (e != null) {\r\n                                                return;\r\n                                            }\r\n\r\n                                            for (QueryDocumentSnapshot doc : value) {\r\n                                                cimmunitiesId.add(doc.getId());\r\n                                            }\r\n                                            getFollowedCommunities();\r\n                                            getFollowedPosts();\r\n\r\n                                        }\r\n                                    });\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n    private void getFollowedCommunities(){\r\n        //guardo en la lista todos los comunidades que se ha suscrito\r\n        db.collection(\"Community\")\r\n                .addSnapshotListener(new EventListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot value,\r\n                                        @Nullable FirebaseFirestoreException e) {\r\n                        if (e != null) {\r\n                            return;\r\n                        }\r\n                        if(value!=null){\r\n                            communityModels.clear();\r\n                            for (QueryDocumentSnapshot doc : value) {\r\n                                for(String id: cimmunitiesId){\r\n                                    if(id.equals(doc.getId())){\r\n                                        CommunityModel communityModel=doc.toObject(CommunityModel.class);\r\n                                        communityModel.setUid(doc.getId());\r\n                                        communityModels.add(communityModel);\r\n                                    }\r\n                                }\r\n                            }\r\n                            adapterFollowedCmty= new AdapterFollowedCmty(communityModels,getContext());\r\n                            onclickAdapterFollowedCmty();\r\n                            followed_comunities.setAdapter(adapterFollowedCmty);\r\n                        }\r\n                    }\r\n                });\r\n\r\n    }\r\n    private void onclickAdapterFollowedCmty(){\r\n        adapterFollowedCmty.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int position=followed_comunities.getChildLayoutPosition(v);\r\n                CommunityModel community=communityModels.get(position);\r\n                bottomSheetCommunity(community,position);\r\n            }\r\n        });\r\n    }\r\n    //posts rv\r\n    private void initRvFollowedPosts(){\r\n        followed_posts.setHasFixedSize(false);\r\n        followed_posts.setLayoutManager(new LinearLayoutManager(getContext(),LinearLayoutManager.VERTICAL,false));\r\n    }\r\n    private void getFollowedPosts(){\r\n        posts.clear();\r\n        //get all the post where i was subscribed.\r\n        db.collection(\"Posts\")\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                for(String id: cimmunitiesId){\r\n                                    if(document.getString(\"community\").equals(id)){\r\n                                        PostModel postModel=document.toObject(PostModel.class);\r\n                                        postModel.setUid(document.getId().toString());\r\n                                        posts.add(postModel);\r\n                                    }\r\n                                }\r\n                            }\r\n                            adapterPost=new AdapterPost(posts,getContext());\r\n                            followed_posts.setAdapter(adapterPost);\r\n                        } else {\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    //bottom sheet community\r\n    private void bottomSheetCommunity(CommunityModel communityModel, final int position){\r\n        final String uiDocument=communityModel.getUid();\r\n        final BottomSheetDialog bottomSheetDialog=new BottomSheetDialog(getContext(),R.style.BottomSheetDialogTheme);\r\n        bottomSheetDialog.setContentView(R.layout.bottom_sheet_community);\r\n        final AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n        if(communityModel.getCreator().equals(uid)){ //cuando haces click sobre tu comunidad\r\n            //variables from the botomSheet layout\r\n            TextView name=bottomSheetDialog.findViewById(R.id.name_bS_community);\r\n            TextView name2=bottomSheetDialog.findViewById(R.id.name_bS_community2);\r\n            name.setText(R.string.home_foro2);\r\n            name.setTextSize(14);\r\n            name.setTextColor(getResources().getColor(R.color.colorPrimaryDashboard));\r\n            name2.setText(communityModel.getName());\r\n            RoundedImageView img=bottomSheetDialog.findViewById(R.id.img_bS_community);\r\n            Picasso.get().load(communityModel.getImg()).into(img);\r\n            TextView desc=bottomSheetDialog.findViewById(R.id.desc_bS_community);\r\n            desc.setText(communityModel.getDescription());\r\n            TextView posts=bottomSheetDialog.findViewById(R.id.num_posts);\r\n            String post= String.valueOf(communityModel.getPosts());\r\n            posts.setText(post);\r\n            TextView followers=bottomSheetDialog.findViewById(R.id.num_followers);\r\n            String followersString= String.valueOf(communityModel.getFollowers());\r\n            followers.setText(followersString);\r\n            //button editar , eliminar\r\n            final Button button=bottomSheetDialog.findViewById(R.id.btn_follow);\r\n            button.setText(R.string.community_sheet_text7);\r\n            button.setBackgroundResource(R.drawable.button_action_machine);\r\n            button.setTextColor(getResources().getColor(R.color.colorPrimaryDashboard));\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    //Intent\r\n                    Intent intent = new Intent(getContext(), EditCommunity.class);\r\n                    intent.putExtra(\"community\", uiDocument);\r\n                    startActivity(intent);\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n            name.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    initComunityLayout(uiDocument);\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n            bottomSheetDialog.findViewById(R.id.btn_cancelBottomSheet).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n\r\n        }else{ //cuando hago click en otra comunidad\r\n            //variables from the botomSheet layout\r\n            final int suscriptores=communityModel.getFollowers();\r\n            TextView name=bottomSheetDialog.findViewById(R.id.name_bS_community);\r\n            TextView name2=bottomSheetDialog.findViewById(R.id.name_bS_community2);\r\n            name.setText(R.string.home_foro2);\r\n            name.setTextSize(14);\r\n            name.setTextColor(getResources().getColor(R.color.colorPrimaryDashboard));\r\n            name2.setText(communityModel.getName());\r\n            RoundedImageView img=bottomSheetDialog.findViewById(R.id.img_bS_community);\r\n            Picasso.get().load(communityModel.getImg()).into(img);\r\n            TextView desc=bottomSheetDialog.findViewById(R.id.desc_bS_community);\r\n            desc.setText(communityModel.getDescription());\r\n            TextView posts=bottomSheetDialog.findViewById(R.id.num_posts);\r\n            String post= String.valueOf(communityModel.getPosts());\r\n            posts.setText(post);\r\n            TextView followers=bottomSheetDialog.findViewById(R.id.num_followers);\r\n            String followersString= String.valueOf(communityModel.getFollowers());\r\n            followers.setText(followersString);\r\n            //button follow , unfollow\r\n            final Button button=bottomSheetDialog.findViewById(R.id.btn_follow);\r\n            db.collection(\"Foro user\").document(uid)\r\n                    .collection(\"Following\").document(uiDocument)\r\n                    .addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n                        @Override\r\n                        public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                            if(value.exists()){\r\n                                button.setText(R.string.community_sheet_text5);\r\n                                button.setBackgroundResource(R.drawable.button_unfollow);\r\n                                button.setTextColor(getResources().getColor(R.color.black));\r\n                            }else{\r\n                                button.setText(R.string.community_sheet_text4);\r\n                            }\r\n                        }\r\n                    });\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    //ya es suscrito\r\n                    String textButton=button.getText().toString();\r\n                    String ifText=getResources().getString(R.string.community_sheet_text5);\r\n                    if(textButton.equals(ifText)){\r\n                        //eliminar de la coleccion following de Foro user\r\n                        adapterFollowedCmty.unFollow(position,uiDocument,suscriptores);\r\n                    }else{ //no esta suscrito\r\n                        //aÃ±adir comunidad a la coleccion Following\r\n                        //communitiesAdapter.follow(position,uiDocument,suscriptores);\r\n                    }\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n            name.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    initComunityLayout(uiDocument);\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n            bottomSheetDialog.findViewById(R.id.btn_cancelBottomSheet).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n        }\r\n        bottomSheetDialog.show();\r\n    }\r\n    //funcion que abre el layout de comunidadMain\r\n    private void initComunityLayout(String uiDocument){\r\n        Intent intent = new Intent(getActivity(), CommunityMain.class);\r\n        intent.putExtra(\"community\", uiDocument);\r\n        startActivity(intent);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/HomeForoFragment.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/HomeForoFragment.java	(date 1611062751047)
@@ -10,6 +10,7 @@
 import androidx.fragment.app.Fragment;
 import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout;
 
 import android.view.LayoutInflater;
 import android.view.View;
@@ -35,6 +36,7 @@
 import com.google.firebase.firestore.EventListener;
 import com.google.firebase.firestore.FirebaseFirestore;
 import com.google.firebase.firestore.FirebaseFirestoreException;
+import com.google.firebase.firestore.Query;
 import com.google.firebase.firestore.QueryDocumentSnapshot;
 import com.google.firebase.firestore.QuerySnapshot;
 import com.google.firebase.storage.FirebaseStorage;
@@ -113,11 +115,16 @@
     private Set<String> cimmunitiesId = new HashSet<>();
     private List<PostModel> posts= new ArrayList<>();
 
+    //swipe to refresh
+    private SwipeRefreshLayout swipeRefreshLayout;
+
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
         // Inflate the layout for this fragment
         View v= inflater.inflate(R.layout.fragment_home_foro, container, false);
+        //refresh
+        swipeRefreshLayout=v.findViewById(R.id.swipeToRefreshHomeForo);
         //firebase
         db=FirebaseFirestore.getInstance();
         firebaseAuth=FirebaseAuth.getInstance();
@@ -128,6 +135,15 @@
         initRvFollowedCommunities();
         initRvFollowedPosts();
         getIdFollowedCommunities();
+        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {
+            @Override
+            public void onRefresh() {
+                getIdFollowedCommunities();
+                adapterFollowedCmty.notifyDataSetChanged();
+                adapterPost.notifyDataSetChanged();
+                swipeRefreshLayout.setRefreshing(false);
+            }
+        });
         return v;
     }
     private void initRvFollowedCommunities(){
Index: app/src/main/res/layout/fragment_home_foro.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Foro.main.Home.HomeForoFragment\">\r\n\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView28\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                android:text=\"@string/home_foro1\"\r\n                android:textSize=\"15sp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/followed_communities\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/textView28\" />\r\n\r\n            <View\r\n                android:id=\"@+id/view4\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:background=\"@color/colorPrimaryDark\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/followed_communities\" />\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/followed_posts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginBottom=\"70dp\"\r\n                android:isScrollContainer=\"false\"\r\n                android:nestedScrollingEnabled=\"false\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/view4\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </ScrollView>\r\n\r\n\r\n\r\n</FrameLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_home_foro.xml	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/res/layout/fragment_home_foro.xml	(date 1611013668678)
@@ -5,14 +5,17 @@
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     tools:context=".ui.Foro.main.Home.HomeForoFragment">
-
-
-    <ScrollView
+    <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
+        android:id="@+id/swipeToRefreshHomeForo"
         android:layout_width="match_parent"
         android:layout_height="match_parent">
+
+        <!--<ScrollView
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">-->
         <androidx.constraintlayout.widget.ConstraintLayout
             android:layout_width="match_parent"
-            android:layout_height="wrap_content">
+            android:layout_height="match_parent">
 
 
             <TextView
@@ -20,7 +23,7 @@
                 android:layout_width="0dp"
                 android:layout_height="wrap_content"
                 android:layout_marginStart="20dp"
-                android:layout_marginTop="20dp"
+                android:layout_marginTop="10dp"
                 android:layout_marginEnd="20dp"
                 android:text="@string/home_foro1"
                 android:textSize="15sp"
@@ -43,7 +46,7 @@
                 android:id="@+id/view4"
                 android:layout_width="match_parent"
                 android:layout_height="1dp"
-                android:layout_marginTop="10dp"
+                android:layout_marginTop="5dp"
                 android:background="@color/colorPrimaryDark"
                 app:layout_constraintEnd_toEndOf="parent"
                 app:layout_constraintHorizontal_bias="0.0"
@@ -53,19 +56,16 @@
             <androidx.recyclerview.widget.RecyclerView
                 android:id="@+id/followed_posts"
                 android:layout_width="match_parent"
-                android:layout_height="wrap_content"
-                android:layout_marginTop="10dp"
+                android:layout_height="0dp"
+                android:layout_marginTop="5dp"
                 android:layout_marginBottom="70dp"
                 android:isScrollContainer="false"
-                android:nestedScrollingEnabled="false"
                 app:layout_constraintBottom_toBottomOf="parent"
                 app:layout_constraintEnd_toEndOf="parent"
                 app:layout_constraintStart_toStartOf="parent"
                 app:layout_constraintTop_toBottomOf="@+id/view4" />
         </androidx.constraintlayout.widget.ConstraintLayout>
 
-    </ScrollView>
-
-
-
+        <!--</ScrollView>-->
+    </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
 </FrameLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/RVs/PostModel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.Foro.main.Home.RVs;\r\n\r\npublic class PostModel {\r\n    private String creator;\r\n    private String community;\r\n    private String tittle;\r\n    private String desc;\r\n    private int likes;\r\n    private String img;\r\n    private String date;\r\n    private String comments;\r\n    private String uid;\r\n\r\n    public PostModel() {\r\n    }\r\n\r\n    public PostModel(String creator, String community, String tittle, String desc, int likes, String img, String date, String comments, String uid) {\r\n        this.creator = creator;\r\n        this.community = community;\r\n        this.tittle = tittle;\r\n        this.desc = desc;\r\n        this.likes = likes;\r\n        this.img = img;\r\n        this.date = date;\r\n        this.comments = comments;\r\n        this.uid = uid;\r\n    }\r\n\r\n    public String getCreator() {\r\n        return creator;\r\n    }\r\n\r\n    public void setCreator(String creator) {\r\n        this.creator = creator;\r\n    }\r\n\r\n    public String getCommunity() {\r\n        return community;\r\n    }\r\n\r\n    public void setCommunity(String community) {\r\n        this.community = community;\r\n    }\r\n\r\n    public String getTittle() {\r\n        return tittle;\r\n    }\r\n\r\n    public void setTittle(String tittle) {\r\n        this.tittle = tittle;\r\n    }\r\n\r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public int getLikes() {\r\n        return likes;\r\n    }\r\n\r\n    public void setLikes(int likes) {\r\n        this.likes = likes;\r\n    }\r\n\r\n    public String getImg() {\r\n        return img;\r\n    }\r\n\r\n    public void setImg(String img) {\r\n        this.img = img;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getComments() {\r\n        return comments;\r\n    }\r\n\r\n    public void setComments(String comments) {\r\n        this.comments = comments;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/RVs/PostModel.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/RVs/PostModel.java	(date 1611000883232)
@@ -1,5 +1,7 @@
 package com.example.infinitycrop.ui.Foro.main.Home.RVs;
 
+import com.google.firebase.Timestamp;
+
 public class PostModel {
     private String creator;
     private String community;
@@ -7,14 +9,14 @@
     private String desc;
     private int likes;
     private String img;
-    private String date;
+    private Timestamp date;
     private String comments;
     private String uid;
 
     public PostModel() {
     }
 
-    public PostModel(String creator, String community, String tittle, String desc, int likes, String img, String date, String comments, String uid) {
+    public PostModel(String creator, String community, String tittle, String desc, int likes, String img, Timestamp date, String comments, String uid) {
         this.creator = creator;
         this.community = community;
         this.tittle = tittle;
@@ -74,11 +76,11 @@
         this.img = img;
     }
 
-    public String getDate() {
+    public Timestamp getDate() {
         return date;
     }
 
-    public void setDate(String date) {
+    public void setDate(Timestamp date) {
         this.date = date;
     }
 
Index: app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/RVs/RvPost/AdapterPost.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.Foro.main.Home.RVs.RvPost;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.infinitycrop.R;\r\nimport com.example.infinitycrop.ui.Foro.main.Home.RVs.PostModel;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.List;\r\n\r\npublic class AdapterPost extends RecyclerView.Adapter<AdapterPost.PostHolder>{\r\n\r\n    private List<PostModel> postModelList;\r\n    private Context context;\r\n    private FirebaseFirestore db;\r\n\r\n    public AdapterPost(List<PostModel> postModelList, Context context) {\r\n        this.postModelList = postModelList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public PostHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v= LayoutInflater.from(parent.getContext()).\r\n                inflate(R.layout.post_item,parent,false);\r\n        return new PostHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final PostHolder holder, int position) {\r\n        db=FirebaseFirestore.getInstance();\r\n        final PostModel postModel= postModelList.get(position);\r\n        //img\r\n        final String url=postModel.getImg();\r\n        Picasso.get().load(url).into(holder.img_post);\r\n        //tittle post\r\n        String tittle=postModel.getTittle();\r\n        holder.name_post.setText(tittle);\r\n        //desc\r\n        String desc=postModel.getDesc();\r\n        holder.desc_post.setText(desc);\r\n        //num likes\r\n        int likes=postModel.getLikes();\r\n        String resLikes=likes+\" Likes\";\r\n        holder.numLikes_post.setText(resLikes);\r\n        //get names,img of community, user etc\r\n        db.collection(\"Community\").document(postModel.getCommunity())\r\n                .get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                if (task.isSuccessful()) {\r\n                    DocumentSnapshot document = task.getResult();\r\n                    if (document.exists()) {\r\n                        String nameCom=document.getString(\"name\");\r\n                        String urlCom=document.getString(\"img\");\r\n                        holder.name_community_post.setText(nameCom);\r\n                        Picasso.get().load(urlCom).into(holder.img_community_post);\r\n                    } else {\r\n\r\n                    }\r\n                } else {\r\n\r\n                }\r\n            }\r\n        });\r\n        db.collection(\"Foro user\").document(postModel.getCreator())\r\n                .get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                if (task.isSuccessful()) {\r\n                    DocumentSnapshot document = task.getResult();\r\n                    if (document.exists()) {\r\n                        String nameCreator=document.getString(\"name\");\r\n                        holder.creator_community_post.setText(nameCreator);\r\n                    } else {\r\n\r\n                    }\r\n                } else {\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return postModelList.size();\r\n    }\r\n\r\n\r\n    public static class PostHolder extends RecyclerView.ViewHolder{\r\n        protected TextView name_community_post;\r\n        protected TextView creator_community_post;\r\n        protected TextView name_post;\r\n        protected TextView desc_post;\r\n        protected ImageView img_post;\r\n        protected TextView time_post;\r\n        protected ImageView like_post;\r\n        protected ImageView img_community_post;\r\n        protected TextView numLikes_post;\r\n        public PostHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            name_community_post=itemView.findViewById(R.id.name_community_post);\r\n            creator_community_post=itemView.findViewById(R.id.creator_community_post);\r\n            img_community_post=itemView.findViewById(R.id.img_community_post);\r\n            name_post=itemView.findViewById(R.id.name_post);\r\n            desc_post=itemView.findViewById(R.id.desc_post);\r\n            img_post=itemView.findViewById(R.id.img_post);\r\n            time_post=itemView.findViewById(R.id.time_post);\r\n            like_post=itemView.findViewById(R.id.like_post);\r\n            numLikes_post=itemView.findViewById(R.id.numLikes_post);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/RVs/RvPost/AdapterPost.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/Foro/main/Home/RVs/RvPost/AdapterPost.java	(date 1611071732892)
@@ -1,6 +1,8 @@
 package com.example.infinitycrop.ui.Foro.main.Home.RVs.RvPost;
 
 import android.content.Context;
+import android.content.Intent;
+import android.text.format.DateUtils;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -11,6 +13,8 @@
 import androidx.recyclerview.widget.RecyclerView;
 
 import com.example.infinitycrop.R;
+import com.example.infinitycrop.ui.Foro.lets_start.EditCommunity;
+import com.example.infinitycrop.ui.Foro.main.Community.CommunityMain;
 import com.example.infinitycrop.ui.Foro.main.Home.RVs.PostModel;
 import com.google.android.gms.tasks.OnCompleteListener;
 import com.google.android.gms.tasks.Task;
@@ -52,6 +56,11 @@
         //desc
         String desc=postModel.getDesc();
         holder.desc_post.setText(desc);
+        //time
+        CharSequence prettyTime = DateUtils.getRelativeDateTimeString(
+                context, postModel.getDate().toDate().getTime(), DateUtils.SECOND_IN_MILLIS,
+                DateUtils.WEEK_IN_MILLIS, 0);
+        holder.time_post.setText(prettyTime);
         //num likes
         int likes=postModel.getLikes();
         String resLikes=likes+" Likes";
@@ -76,6 +85,15 @@
                 }
             }
         });
+        //onclick on community
+        holder.name_community_post.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent intent = new Intent(holder.name_community_post.getContext(), CommunityMain.class);
+                intent.putExtra("community", postModel.getCommunity());
+                holder.name_community_post.getContext().startActivity(intent);
+            }
+        });
         db.collection("Foro user").document(postModel.getCreator())
                 .get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
             @Override
Index: app/src/main/java/com/example/infinitycrop/ui/service/ServicioMqtt.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.infinitycrop.ui.service;\r\n\r\n\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport com.example.comun.Mqtt;\r\nimport com.google.firebase.Timestamp;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\n\r\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\r\nimport org.eclipse.paho.client.mqttv3.MqttClient;\r\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\nimport org.eclipse.paho.client.mqttv3.MqttException;\r\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\r\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport static com.example.comun.Mqtt.topicRoot;\r\n\r\n\r\npublic class ServicioMqtt extends Service implements MqttCallback {\r\n\r\n    public static MqttClient client = null;\r\n    private FirebaseFirestore db;\r\n    private String getId;\r\n\r\n    @Override public void onCreate(){\r\n        Toast.makeText(this,\"Conectando con tu maquina......\", Toast.LENGTH_LONG).show();\r\n        db = FirebaseFirestore.getInstance();\r\n        try {\r\n            client = new MqttClient(Mqtt.broker, Mqtt.clientId, new\r\n                    MemoryPersistence());\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MqttConnectOptions connOpts = new MqttConnectOptions();\r\n        connOpts.setCleanSession(true);\r\n        connOpts.setKeepAliveInterval(60);\r\n        connOpts.setWill(topicRoot+\"WillTopic\", \"App desconectada\".getBytes(),Mqtt.qos, false);\r\n        try {\r\n            client.connect(connOpts);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Nos suscribimos al topic rfid\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Suscrito a \" + topicRoot+\"lecturaDatos\");\r\n            client.subscribe(topicRoot+\"lecturaDatos\", Mqtt.qos);\r\n            client.setCallback(this);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\r\n        }\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Suscrito a \" + topicRoot+\"lecturaDatos1\");\r\n            client.subscribe(topicRoot+\"lecturaDatos1\", Mqtt.qos);\r\n            client.setCallback(this);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\r\n        }\r\n\r\n        try {\r\n            Log.i(Mqtt.TAG, \"Suscrito a \" + topicRoot+\"lecturaDatos2\");\r\n            client.subscribe(topicRoot+\"lecturaDatos2\", Mqtt.qos);\r\n            client.setCallback(this);\r\n        } catch (MqttException e) {\r\n            Log.e(Mqtt.TAG, \"Error al suscribir.\", e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intenc, int flags, int idArranque) {\r\n        getId =intenc.getStringExtra(\"machine\");\r\n\r\n        return START_STICKY;\r\n    }\r\n    @Override public void onDestroy() {\r\n\r\n    }\r\n    @Override public IBinder onBind(Intent intencion) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void connectionLost(Throwable cause) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void messageArrived(String topic, MqttMessage message) throws Exception {\r\n        String payload = new String(message.getPayload());\r\n        String[] parts = payload.split(\"-\");\r\n        String part1 = parts[0];\r\n        String part2 = parts[1];\r\n        String part3 = parts[2];\r\n        String part4 = parts[3];\r\n        String part5 = parts[4];\r\n\r\n        if(topic.equals(topicRoot+\"lecturaDatos\")){\r\n            Map<String, Object> user = new HashMap<>();\r\n            user.put(\"Humedad\", part2);\r\n            user.put(\"Humedad Ambiente\", part3);\r\n            user.put(\"Luminosidad\", part4);\r\n            user.put(\"Temperatura\", part5);\r\n            user.put(\"Fecha\", new Timestamp(new Date()));\r\n            user.put(\"machineId\", part1);\r\n            db.collection(\"Mediciones general\").document(getId).set(user);\r\n        }\r\n        if(topic.equals(topicRoot+\"lecturaDatos1\")){\r\n            Map<String, Object> user = new HashMap<>();\r\n            user.put(\"Humedad\", part2);\r\n            user.put(\"Humedad Ambiente\", part3);\r\n            user.put(\"Luminosidad\", part4);\r\n            user.put(\"Temperatura\", part5);\r\n            user.put(\"Fecha\", new Timestamp(new Date()));\r\n            user.put(\"machineId\", part1);\r\n            db.collection(\"Mediciones planta 1\").document(getId).set(user);\r\n        }\r\n        if(topic.equals(topicRoot+\"lecturaDatos2\")){\r\n            Map<String, Object> user = new HashMap<>();\r\n            user.put(\"Humedad\", part2);\r\n            user.put(\"Humedad Ambiente\", part3);\r\n            user.put(\"Luminosidad\", part4);\r\n            user.put(\"Temperatura\", part5);\r\n            user.put(\"Fecha\", new Timestamp(new Date()));\r\n            user.put(\"machineId\", part1);\r\n            db.collection(\"Mediciones planta 2\").document(getId).set(user);\r\n        }\r\n\r\n        db.collection(\"Mediciones general\").document(getId).addSnapshotListener(new EventListener<DocumentSnapshot>() {\r\n            @Override\r\n            public void onEvent(@Nullable DocumentSnapshot value, @Nullable FirebaseFirestoreException error) {\r\n\r\n                //Temperatura\r\n                String temperatura = value.getString(\"Temperatura\");\r\n                Double tempValue = Double.parseDouble(temperatura);\r\n                if (tempValue > 7) {\r\n                    final Map<String, Object> notificacionesTempAlerta = new HashMap<>();\r\n                    notificacionesTempAlerta.put(\"Tipo\", \"1\");\r\n                    notificacionesTempAlerta.put(\"MachineID\", getId);\r\n                    notificacionesTempAlerta.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesTempAlerta.put(\"Medicion\", \"temperatura\");\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesTempAlerta);\r\n                }\r\n\r\n                if (tempValue > 3 && tempValue < 6) {\r\n\r\n                    final Map<String, Object> notificacionesTempAviso = new HashMap<>();\r\n                    notificacionesTempAviso.put(\"Tipo\", \"2\");\r\n                    notificacionesTempAviso.put(\"MachineID\", getId);\r\n                    notificacionesTempAviso.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesTempAviso.put(\"Medicion\", \"temperatura\");\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesTempAviso);\r\n                }\r\n\r\n\r\n                //Humedad\r\n                String humedad = value.getString(\"Humedad\");\r\n                Double humedadValue = Double.parseDouble(humedad);\r\n                if (humedadValue > 13) {\r\n                    final Map<String, Object> notificacionesHumedadAlerta = new HashMap<>();\r\n                    notificacionesHumedadAlerta.put(\"Tipo\", \"1\");\r\n                    notificacionesHumedadAlerta.put(\"MachineID\", getId);\r\n                    notificacionesHumedadAlerta.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesHumedadAlerta.put(\"Medicion\", \"humedad\");\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesHumedadAlerta);\r\n                }\r\n\r\n                if (humedadValue > 5 && humedadValue < 8) {\r\n                    final Map<String, Object> notificacionesHumedadAviso = new HashMap<>();\r\n                    notificacionesHumedadAviso.put(\"Tipo\", \"2\");\r\n                    notificacionesHumedadAviso.put(\"MachineID\", getId);\r\n                    notificacionesHumedadAviso.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesHumedadAviso.put(\"Medicion\", \"humedad\");\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesHumedadAviso);\r\n\r\n                }\r\n\r\n\r\n                //Humedad Ambiente\r\n                String humedadAmb = value.getString(\"Humedad Ambiente\");\r\n                Double humedadAmbValue = Double.parseDouble(humedadAmb);\r\n                if (humedadAmbValue > 13) {\r\n                    final Map<String, Object> notificacionesHumedadAmbAlerta = new HashMap<>();\r\n                    notificacionesHumedadAmbAlerta.put(\"Tipo\", \"1\");\r\n                    notificacionesHumedadAmbAlerta.put(\"MachineID\", getId);\r\n                    notificacionesHumedadAmbAlerta.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesHumedadAmbAlerta.put(\"Medicion\", \"humedad ambiente\");\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesHumedadAmbAlerta);\r\n\r\n                }\r\n                if (humedadAmbValue > 5 && humedadAmbValue < 12) {\r\n                    final Map<String, Object> notificacionesHumedadAmbAviso = new HashMap<>();\r\n                    notificacionesHumedadAmbAviso.put(\"Tipo\", \"2\");\r\n                    notificacionesHumedadAmbAviso.put(\"MachineID\", getId);\r\n                    notificacionesHumedadAmbAviso.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesHumedadAmbAviso.put(\"Medicion\", \"humedad ambiente\");\r\n\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesHumedadAmbAviso);\r\n                }\r\n\r\n\r\n                //Luminosidad\r\n                String luminosidad = value.getString(\"Luminosidad\");\r\n                Double luminosidadValue = Double.parseDouble(luminosidad);\r\n\r\n                if (luminosidadValue > 54) {\r\n                    final Map<String, Object> notificacionesLuminosidadAlerta = new HashMap<>();\r\n                    notificacionesLuminosidadAlerta.put(\"Tipo\", \"1\");\r\n                    notificacionesLuminosidadAlerta.put(\"MachineID\", getId);\r\n                    notificacionesLuminosidadAlerta.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesLuminosidadAlerta.put(\"Medicion\", \"luminosidad\");\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesLuminosidadAlerta);\r\n                }\r\n                if (luminosidadValue > 36 && luminosidadValue < 47) {\r\n                    final Map<String, Object> notificacionesLuminosidadAviso = new HashMap<>();\r\n                    notificacionesLuminosidadAviso.put(\"Tipo\", \"2\");\r\n                    notificacionesLuminosidadAviso.put(\"MachineID\", getId);\r\n                    notificacionesLuminosidadAviso.put(\"Fecha\", new Timestamp(new Date()));\r\n                    notificacionesLuminosidadAviso.put(\"Medicion\", \"luminosidad\");\r\n\r\n                    db.collection(\"Notificaciones\").add(notificacionesLuminosidadAviso);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void deliveryComplete(IMqttDeliveryToken token) {\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/infinitycrop/ui/service/ServicioMqtt.java	(revision 97b60040cb9ddffbf7eb424364e4fc4451452801)
+++ app/src/main/java/com/example/infinitycrop/ui/service/ServicioMqtt.java	(date 1611084481785)
@@ -8,10 +8,16 @@
 import android.widget.Toast;
 
 
+import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 
 import com.example.comun.Mqtt;
 import com.google.firebase.Timestamp;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
 import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.EventListener;
 import com.google.firebase.firestore.FirebaseFirestore;
@@ -38,7 +44,7 @@
     public static MqttClient client = null;
     private FirebaseFirestore db;
     private String getId;
-
+    private DatabaseReference databaseReference;
     @Override public void onCreate(){
         Toast.makeText(this,"Conectando con tu maquina......", Toast.LENGTH_LONG).show();
         db = FirebaseFirestore.getInstance();
@@ -81,11 +87,91 @@
         } catch (MqttException e) {
             Log.e(Mqtt.TAG, "Error al suscribir.", e);
         }
+
+        //notificaciones
+
     }
 
     @Override
     public int onStartCommand(Intent intenc, int flags, int idArranque) {
         getId =intenc.getStringExtra("machine");
+        databaseReference= FirebaseDatabase.getInstance().getReference();
+        //lectura real-time database
+        databaseReference.child("Mediciones general")
+                .child(getId).addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.exists()){
+                    String luz= snapshot.child("Luminosidad").getValue().toString();
+                    String humedad=snapshot.child("MediaHumedad").getValue().toString();
+                    String temper=snapshot.child("MediaTemperatura").getValue().toString();
+                    final Map<String, Object> a = new HashMap<>();
+                    a.put("Humedad", humedad);
+                    a.put("Luminosidad", luz);
+                    a.put("Temperatura", temper);
+                    a.put("Fecha", new Timestamp(new Date()));
+                    a.put("machineId", getId);
+                    db.collection("Mediciones general").document(getId)
+                            .set(a);
+
+                    db.collection("Mediciones").add(a);
+                }
+            }
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+        databaseReference.child("Mediciones nivel 1")
+                .child(getId).addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.exists()){
+                    String humedadAmbiente= snapshot.child("HumedadAmbiente").getValue().toString();
+                    String humedad=snapshot.child("Humedad").getValue().toString();
+                    String temper=snapshot.child("TemperaturaAmbiente").getValue().toString();
+                    String pres1=snapshot.child("Presencia1").getValue().toString();
+                    String pres2=snapshot.child("Presencia2").getValue().toString();
+                    String pres3=snapshot.child("Presencia3").getValue().toString();
+                    final Map<String, Object> a = new HashMap<>();
+                    a.put("Humedad", humedad);
+                    a.put("Humedad Ambiente", humedadAmbiente);
+                    a.put("Temperatura", temper);
+                    a.put("Fecha", new Timestamp(new Date()));
+                    a.put("machineId", getId);
+                    db.collection("Mediciones planta 1").document(getId)
+                            .set(a);
+                }
+            }
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+        databaseReference.child("Mediciones nivel 2")
+                .child(getId).addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                if(snapshot.exists()){
+                    String humedadAmbiente= snapshot.child("HumedadAmbiente").getValue().toString();
+                    String temper=snapshot.child("TemperaturaAmbiente").getValue().toString();
+                    String pres1=snapshot.child("Presencia1").getValue().toString();
+                    String pres2=snapshot.child("Presencia2").getValue().toString();
+                    String pres3=snapshot.child("Presencia3").getValue().toString();
+                    final Map<String, Object> a = new HashMap<>();
+                    a.put("Humedad Ambiente", humedadAmbiente);
+                    a.put("Temperatura", temper);
+                    a.put("Fecha", new Timestamp(new Date()));
+                    a.put("machineId", getId);
+                    db.collection("Mediciones planta 2").document(getId)
+                            .set(a);
+                }
+            }
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
 
         return START_STICKY;
     }
@@ -104,43 +190,48 @@
     @Override
     public void messageArrived(String topic, MqttMessage message) throws Exception {
         String payload = new String(message.getPayload());
-        String[] parts = payload.split("-");
+        /*String[] parts = payload.split("-");
         String part1 = parts[0];
         String part2 = parts[1];
         String part3 = parts[2];
         String part4 = parts[3];
         String part5 = parts[4];
 
-        if(topic.equals(topicRoot+"lecturaDatos")){
-            Map<String, Object> user = new HashMap<>();
-            user.put("Humedad", part2);
-            user.put("Humedad Ambiente", part3);
-            user.put("Luminosidad", part4);
-            user.put("Temperatura", part5);
-            user.put("Fecha", new Timestamp(new Date()));
-            user.put("machineId", part1);
-            db.collection("Mediciones general").document(getId).set(user);
-        }
-        if(topic.equals(topicRoot+"lecturaDatos1")){
-            Map<String, Object> user = new HashMap<>();
-            user.put("Humedad", part2);
-            user.put("Humedad Ambiente", part3);
-            user.put("Luminosidad", part4);
-            user.put("Temperatura", part5);
-            user.put("Fecha", new Timestamp(new Date()));
-            user.put("machineId", part1);
-            db.collection("Mediciones planta 1").document(getId).set(user);
-        }
-        if(topic.equals(topicRoot+"lecturaDatos2")){
-            Map<String, Object> user = new HashMap<>();
-            user.put("Humedad", part2);
-            user.put("Humedad Ambiente", part3);
-            user.put("Luminosidad", part4);
-            user.put("Temperatura", part5);
-            user.put("Fecha", new Timestamp(new Date()));
-            user.put("machineId", part1);
-            db.collection("Mediciones planta 2").document(getId).set(user);
-        }
+        switch (topic) {
+            case topicRoot + "lecturaDatos": {
+                Map<String, Object> user = new HashMap<>();
+                user.put("Humedad", part2);
+                user.put("Humedad Ambiente", part3);
+                user.put("Luminosidad", part4);
+                user.put("Temperatura", part5);
+                user.put("Fecha", new Timestamp(new Date()));
+                user.put("machineId", part1);
+                db.collection("Mediciones general").document(part1).set(user);
+                break;
+            }
+            case topicRoot + "lecturaDatos1": {
+                Map<String, Object> user = new HashMap<>();
+                user.put("Humedad", part2);
+                user.put("Humedad Ambiente", part3);
+                user.put("Luminosidad", part4);
+                user.put("Temperatura", part5);
+                user.put("Fecha", new Timestamp(new Date()));
+                user.put("machineId", part1);
+                db.collection("Mediciones planta 1").document(part1).set(user);
+                break;
+            }
+            case topicRoot + "lecturaDatos2": {
+                Map<String, Object> user = new HashMap<>();
+                user.put("Humedad", part2);
+                user.put("Humedad Ambiente", part3);
+                user.put("Luminosidad", part4);
+                user.put("Temperatura", part5);
+                user.put("Fecha", new Timestamp(new Date()));
+                user.put("machineId", part1);
+                db.collection("Mediciones planta 2").document(part1).set(user);
+                break;
+            }
+        }*/
 
         db.collection("Mediciones general").document(getId).addSnapshotListener(new EventListener<DocumentSnapshot>() {
             @Override
